<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Hyperledger Explorer | Cups</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Fabric,区块链浏览器">
    <meta name="description" content="（一）动机 查看Fabric区块链的状态。  虚拟机和peer节点在同一个机器或者不在同一个机器都行。   （二）虚拟机基础环境配置1、IP地址配置 配一个192.168.1.x上网用，配一个192.168.30.x与通信。 有可视化界面，就用可视化界面来配置。">
<meta name="keywords" content="Fabric,区块链浏览器">
<meta property="og:type" content="article">
<meta property="og:title" content="Hyperledger Explorer">
<meta property="og:url" content="http:&#x2F;&#x2F;cupswen.github.io&#x2F;2020&#x2F;09&#x2F;24&#x2F;2020&#x2F;blockchain-explorer&#x2F;index.html">
<meta property="og:site_name" content="Cups">
<meta property="og:description" content="（一）动机 查看Fabric区块链的状态。  虚拟机和peer节点在同一个机器或者不在同一个机器都行。   （二）虚拟机基础环境配置1、IP地址配置 配一个192.168.1.x上网用，配一个192.168.30.x与通信。 有可视化界面，就用可视化界面来配置。">
<meta property="og:locale" content="en">
<meta property="og:image" content="http:&#x2F;&#x2F;cupswen.github.io&#x2F;img&#x2F;blockchain-explorer&#x2F;ip.png">
<meta property="og:image" content="http:&#x2F;&#x2F;cupswen.github.io&#x2F;img&#x2F;blockchain-explorer&#x2F;be-1.png">
<meta property="og:image" content="http:&#x2F;&#x2F;cupswen.github.io&#x2F;img&#x2F;blockchain-explorer&#x2F;be-2.png">
<meta property="og:image" content="http:&#x2F;&#x2F;cupswen.github.io&#x2F;img&#x2F;blockchain-explorer&#x2F;cat-1.png">
<meta property="og:image" content="http:&#x2F;&#x2F;cupswen.github.io&#x2F;img&#x2F;blockchain-explorer&#x2F;cat-2.png">
<meta property="og:image" content="http:&#x2F;&#x2F;cupswen.github.io&#x2F;img&#x2F;blockchain-explorer&#x2F;cat-3.png">
<meta property="og:image" content="http:&#x2F;&#x2F;cupswen.github.io&#x2F;img&#x2F;blockchain-explorer&#x2F;cat-4.png">
<meta property="og:image" content="http:&#x2F;&#x2F;cupswen.github.io&#x2F;img&#x2F;blockchain-explorer&#x2F;cat-5.png">
<meta property="og:updated_time" content="2020-09-26T11:28:59.743Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http:&#x2F;&#x2F;cupswen.github.io&#x2F;img&#x2F;blockchain-explorer&#x2F;ip.png">
    
    <link rel="shortcut icon" href="/img/brand.jpg">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/the_Huanghe_River.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">CupsWen</h5>
          <a href="mailto:1191567189@qq.com" target="_blank" rel="noopener" title="1191567189@qq.com" class="mail">1191567189@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/index.html"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/CupsWen" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://cupswen.github.io/hyperlink"  >
                <i class="icon icon-lg icon-link"></i>
                Link
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Hyperledger Explorer</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Hyperledger Explorer</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-09-24T06:49:10.000Z" itemprop="datePublished" class="page-time">
  2020-09-24
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE%E6%B5%8F%E8%A7%88%E5%99%A8/">区块链浏览器</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#（一）动机"><span class="post-toc-text">（一）动机</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#（二）虚拟机基础环境配置"><span class="post-toc-text">（二）虚拟机基础环境配置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1、IP地址配置"><span class="post-toc-text">1、IP地址配置</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2、SSH"><span class="post-toc-text">2、SSH</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3、防火墙"><span class="post-toc-text">3、防火墙</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4、设置时间同步"><span class="post-toc-text">4、设置时间同步</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5、安装常用工具"><span class="post-toc-text">5、安装常用工具</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#6、更换软件源"><span class="post-toc-text">6、更换软件源</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7、更改hosts文件"><span class="post-toc-text">7、更改hosts文件</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#（三）区块链浏览器相关配置"><span class="post-toc-text">（三）区块链浏览器相关配置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1、blockchain-explorer"><span class="post-toc-text">1、blockchain-explorer</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2、PostgreSQL"><span class="post-toc-text">2、PostgreSQL</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（1）安装PostgreSQL"><span class="post-toc-text">（1）安装PostgreSQL</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（2）配置密码"><span class="post-toc-text">（2）配置密码</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（3）配置实现远程访问"><span class="post-toc-text">（3）配置实现远程访问</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3、Node"><span class="post-toc-text">3、Node</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4、jq"><span class="post-toc-text">4、jq</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5、gcc-c"><span class="post-toc-text">5、gcc-c++</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#（四）blockchain-explorer配置"><span class="post-toc-text">（四）blockchain-explorer配置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1、修改配置文件"><span class="post-toc-text">1、修改配置文件</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（1）appconfig-json"><span class="post-toc-text">（1）appconfig.json</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（2）explorerconfig-json"><span class="post-toc-text">（2）explorerconfig.json</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（3）config-json"><span class="post-toc-text">（3）config.json</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（4）证书"><span class="post-toc-text">（4）证书</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（5）connection-json"><span class="post-toc-text">（5）connection.json</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（6）start-sh"><span class="post-toc-text">（6）start.sh</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2、初始化数据库"><span class="post-toc-text">2、初始化数据库</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3、安装blockchain-explorer需要的库"><span class="post-toc-text">3、安装blockchain-explorer需要的库</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4、启动项目"><span class="post-toc-text">4、启动项目</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5、结束程序"><span class="post-toc-text">5、结束程序</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#6、修改start-sh"><span class="post-toc-text">6、修改start.sh*</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#（五）过程"><span class="post-toc-text">（五）过程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1、辛苦的过程"><span class="post-toc-text">1、辛苦的过程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（1）使用github上下载的代码"><span class="post-toc-text">（1）使用github上下载的代码</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（2）使用镜像"><span class="post-toc-text">（2）使用镜像</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（3）本次成功纯属巧合"><span class="post-toc-text">（3）本次成功纯属巧合</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2、数据库初始化"><span class="post-toc-text">2、数据库初始化</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（1）连接数据库"><span class="post-toc-text">（1）连接数据库</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（2）创建用户"><span class="post-toc-text">（2）创建用户</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（3）创建数据库"><span class="post-toc-text">（3）创建数据库</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（4）运行sql"><span class="post-toc-text">（4）运行sql</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（5）最终结果"><span class="post-toc-text">（5）最终结果</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#常用命令"><span class="post-toc-text">常用命令</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#清空所有容器"><span class="post-toc-text">清空所有容器</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#清空所有镜像"><span class="post-toc-text">清空所有镜像</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#清理文件"><span class="post-toc-text">清理文件</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#切换到kafka目录"><span class="post-toc-text">切换到kafka目录</span></a></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-2020/blockchain-explorer"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Hyperledger Explorer</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-09-24 14:49:10" datetime="2020-09-24T06:49:10.000Z"  itemprop="datePublished">2020-09-24</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE%E6%B5%8F%E8%A7%88%E5%99%A8/">区块链浏览器</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="（一）动机"><a href="#（一）动机" class="headerlink" title="（一）动机"></a>（一）动机</h1><blockquote>
<p>查看Fabric区块链的状态。</p>
<blockquote>
<p>虚拟机和peer节点在同一个机器或者不在同一个机器都行。</p>
</blockquote>
</blockquote>
<h1 id="（二）虚拟机基础环境配置"><a href="#（二）虚拟机基础环境配置" class="headerlink" title="（二）虚拟机基础环境配置"></a>（二）虚拟机基础环境配置</h1><h2 id="1、IP地址配置"><a href="#1、IP地址配置" class="headerlink" title="1、IP地址配置"></a>1、IP地址配置</h2><blockquote>
<p>配一个192.168.1.x上网用，配一个192.168.30.x与通信。</p>
<p>有可视化界面，就用可视化界面来配置。</p>
</blockquote>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/blockchain-explorer/ip.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ping 192.168.30.2 测试可以接通节点</span></span><br><span class="line">[root@localhost ~]# ping 192.168.30.2</span><br><span class="line">PING 192.168.30.2 (192.168.30.2) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.30.2: icmp_seq=1 ttl=64 time=0.731 ms</span><br><span class="line">64 bytes from 192.168.30.2: icmp_seq=2 ttl=64 time=0.427 ms</span><br><span class="line">64 bytes from 192.168.30.2: icmp_seq=3 ttl=64 time=0.500 ms</span><br><span class="line">^C</span><br><span class="line">--- 192.168.30.2 ping statistics ---</span><br><span class="line">3 packets transmitted, 3 received, 0% packet loss, time 2004ms</span><br><span class="line">rtt min/avg/max/mdev = 0.427/0.552/0.731/0.132 ms</span><br><span class="line">[root@localhost ~]# </span><br><span class="line"><span class="meta">#</span><span class="bash"> ping www.baidu.com 测试可以上网</span></span><br><span class="line">[root@localhost ~]# ping www.baidu.com</span><br><span class="line">PING www.a.shifen.com (220.181.38.149) 56(84) bytes of data.</span><br><span class="line">64 bytes from 220.181.38.149 (220.181.38.149): icmp_seq=1 ttl=51 time=18.9 ms</span><br><span class="line">64 bytes from 220.181.38.149 (220.181.38.149): icmp_seq=2 ttl=51 time=18.6 ms</span><br><span class="line">64 bytes from 220.181.38.149 (220.181.38.149): icmp_seq=3 ttl=51 time=19.5 ms</span><br><span class="line">^C</span><br><span class="line">--- www.a.shifen.com ping statistics ---</span><br><span class="line">3 packets transmitted, 3 received, 0% packet loss, time 2004ms</span><br><span class="line">rtt min/avg/max/mdev = 18.680/19.061/19.520/0.347 ms</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure>

<h2 id="2、SSH"><a href="#2、SSH" class="headerlink" title="2、SSH"></a>2、SSH</h2><blockquote>
<p>远程登录，传文件比较方便。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装</span></span><br><span class="line">yum install -y openssl openssh-server</span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动ssh</span></span><br><span class="line">systemctl start sshd.service</span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置开机自动启动</span></span><br><span class="line">systemctl enable sshd.service</span><br></pre></td></tr></table></figure>


</blockquote>
<h2 id="3、防火墙"><a href="#3、防火墙" class="headerlink" title="3、防火墙"></a>3、防火墙</h2><blockquote>
<p>关闭防火墙，或者就开几个端口。</p>
<p>systemctl stop firewalld<br>systemctl status firewalld<br>systemctl disable firewalld</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ls</span><br><span class="line">anaconda-ks.cfg  initial-setup-ks.cfg</span><br><span class="line">[root@localhost ~]# systemctl stop firewalld</span><br><span class="line">[root@localhost ~]# systemctl status firewalld</span><br><span class="line">● firewalld.service - firewalld - dynamic firewall daemon</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled; vendor preset: enabled)</span><br><span class="line">   Active: inactive (dead) since Thu 2020-09-24 23:14:15 EDT; 37ms ago</span><br><span class="line">     Docs: man:firewalld(1)</span><br><span class="line">  Process: 786 ExecStart=/usr/sbin/firewalld --nofork --nopid $FIREWALLD_ARGS (code=exited, status=0/SUCCESS)</span><br><span class="line"> Main PID: 786 (code=exited, status=0/SUCCESS)</span><br><span class="line"></span><br><span class="line">Sep 24 23:13:23 localhost.localdomain systemd[1]: Starting firewalld - dynamic firewall daemon...</span><br><span class="line">Sep 24 23:13:24 localhost.localdomain systemd[1]: Started firewalld - dynamic firewall daemon.</span><br><span class="line">Sep 24 23:14:14 localhost.localdomain systemd[1]: Stopping firewalld - dynamic firewall daemon...</span><br><span class="line">Sep 24 23:14:15 localhost.localdomain systemd[1]: Stopped firewalld - dynamic firewall daemon.</span><br><span class="line">[root@localhost ~]# systemctl disable firewalld</span><br><span class="line">Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.</span><br><span class="line">Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure>

<h2 id="4、设置时间同步"><a href="#4、设置时间同步" class="headerlink" title="4、设置时间同步"></a>4、设置时间同步</h2><blockquote>
<p>确保时间正常。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 移除本地时间</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> rm -rf /etc/localtime</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改时区</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置系统时钟</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">"ZONE="</span>Asia/Shanghai<span class="string">"</span></span></span><br><span class="line">UTC=false</span><br><span class="line">ARC=false"&gt;&gt;/etc/sysconfig/clock</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装时间服务</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> yum install -y ntp</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> systemctl start ntpd</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> systemctl <span class="built_in">enable</span> ntpd</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 时间同步指向阿里云时间服务器</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">"/usr/sbin/ntpdate ntp1.aliyun.com &gt; /dev/null 2&gt;&amp;1; /sbin/hwclock -w"</span>&gt;&gt;/etc/rc.d/rc.local</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 定时任务，每分钟同步一次</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">"0 */1 * * * ntpdate ntp1.aliyun.com &gt; /dev/null 2&gt;&amp;1; /sbin/hwclock -w"</span>&gt;&gt;/etc/cro</span></span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#  rm -rf /etc/localtime</span><br><span class="line">[root@localhost ~]# ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class="line">[root@localhost ~]# echo "ZONE="Asia/Shanghai"</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> UTC=<span class="literal">false</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ARC=<span class="literal">false</span><span class="string">"&gt;&gt;/etc/sysconfig/clock</span></span></span><br><span class="line">[root@localhost ~]# yum install -y ntp</span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.aliyun.com</span><br><span class="line"> * extras: mirrors.aliyun.com</span><br><span class="line"> * updates: mirrors.bfsu.edu.cn</span><br><span class="line">Resolving Dependencies</span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package ntp.x86_64 0:4.2.6p5-29.el7.centos.2 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: ntpdate = 4.2.6p5-29.el7.centos.2 <span class="keyword">for</span> package: ntp-4.2.6p5-29.el7.centos.2.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: libopts.so.25()(64bit) <span class="keyword">for</span> package: ntp-4.2.6p5-29.el7.centos.2.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package autogen-libopts.x86_64 0:5.18-5.el7 will be installed</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package ntpdate.x86_64 0:4.2.6p5-29.el7.centos will be updated</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package ntpdate.x86_64 0:4.2.6p5-29.el7.centos.2 will be an update</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Finished Dependency Resolution</span></span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">===========================================================================================================</span><br><span class="line"> Package                    Arch              Version                             Repository          Size</span><br><span class="line">===========================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> ntp                        x86_64            4.2.6p5-29.el7.centos.2             updates            549 k</span><br><span class="line">Installing for dependencies:</span><br><span class="line"> autogen-libopts            x86_64            5.18-5.el7                          base                66 k</span><br><span class="line">Updating for dependencies:</span><br><span class="line"> ntpdate                    x86_64            4.2.6p5-29.el7.centos.2             updates             87 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">===========================================================================================================</span><br><span class="line">Install  1 Package  (+1 Dependent package)</span><br><span class="line">Upgrade             ( 1 Dependent package)</span><br><span class="line"></span><br><span class="line">Total download size: 701 k</span><br><span class="line">Downloading packages:</span><br><span class="line">No Presto metadata available for updates</span><br><span class="line">warning: /var/cache/yum/x86_64/7/updates/packages/ntpdate-4.2.6p5-29.el7.centos.2.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY</span><br><span class="line">Public key for ntpdate-4.2.6p5-29.el7.centos.2.x86_64.rpm is not installed</span><br><span class="line">(1/3): ntpdate-4.2.6p5-29.el7.centos.2.x86_64.rpm                                   |  87 kB  00:00:00     </span><br><span class="line">Public key for autogen-libopts-5.18-5.el7.x86_64.rpm is not installed</span><br><span class="line">(2/3): autogen-libopts-5.18-5.el7.x86_64.rpm                                        |  66 kB  00:00:00     </span><br><span class="line">(3/3): ntp-4.2.6p5-29.el7.centos.2.x86_64.rpm                                       | 549 kB  00:00:00     </span><br><span class="line">-----------------------------------------------------------------------------------------------------------</span><br><span class="line">Total                                                                      2.1 MB/s | 701 kB  00:00:00     </span><br><span class="line">Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span><br><span class="line">Importing GPG key 0xF4A80EB5:</span><br><span class="line"> Userid     : "CentOS-7 Key (CentOS 7 Official Signing Key) &lt;security@centos.org&gt;"</span><br><span class="line"> Fingerprint: 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5</span><br><span class="line"> Package    : centos-release-7-8.2003.0.el7.centos.x86_64 (@anaconda)</span><br><span class="line"> From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Installing : autogen-libopts-5.18-5.el7.x86_64                                                       1/4 </span><br><span class="line">  Updating   : ntpdate-4.2.6p5-29.el7.centos.2.x86_64                                                  2/4 </span><br><span class="line">  Installing : ntp-4.2.6p5-29.el7.centos.2.x86_64                                                      3/4 </span><br><span class="line">  Cleanup    : ntpdate-4.2.6p5-29.el7.centos.x86_64                                                    4/4 </span><br><span class="line">  Verifying  : ntpdate-4.2.6p5-29.el7.centos.2.x86_64                                                  1/4 </span><br><span class="line">  Verifying  : ntp-4.2.6p5-29.el7.centos.2.x86_64                                                      2/4 </span><br><span class="line">  Verifying  : autogen-libopts-5.18-5.el7.x86_64                                                       3/4 </span><br><span class="line">  Verifying  : ntpdate-4.2.6p5-29.el7.centos.x86_64                                                    4/4 </span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  ntp.x86_64 0:4.2.6p5-29.el7.centos.2                                                                     </span><br><span class="line"></span><br><span class="line">Dependency Installed:</span><br><span class="line">  autogen-libopts.x86_64 0:5.18-5.el7                                                                      </span><br><span class="line"></span><br><span class="line">Dependency Updated:</span><br><span class="line">  ntpdate.x86_64 0:4.2.6p5-29.el7.centos.2                                                                 </span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@localhost ~]# systemctl start ntpd</span><br><span class="line">[root@localhost ~]# systemctl enable ntpd</span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/ntpd.service to /usr/lib/systemd/system/ntpd.service.</span><br><span class="line">[root@localhost ~]# echo "/usr/sbin/ntpdate ntp1.aliyun.com &gt; /dev/null 2&gt;&amp;1; /sbin/hwclock -w"&gt;&gt;/etc/rc.d/rc.local</span><br><span class="line">[root@localhost ~]# echo "0 */1 * * * ntpdate ntp1.aliyun.com &gt; /dev/null 2&gt;&amp;1; /sbin/hwclock -w"&gt;&gt;/etc/cro</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure>

<h2 id="5、安装常用工具"><a href="#5、安装常用工具" class="headerlink" title="5、安装常用工具"></a>5、安装常用工具</h2><blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yum install -y curl \</span><br><span class="line">wget \</span><br><span class="line">tree \</span><br><span class="line">lrzsz \</span><br><span class="line">dos2unix \</span><br><span class="line">git</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum install -y curl \</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> wget \</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> tree \</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> lrzsz \</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> dos2unix \</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> git</span></span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.aliyun.com</span><br><span class="line"> * extras: mirrors.aliyun.com</span><br><span class="line"> * updates: mirrors.tuna.tsinghua.edu.cn</span><br><span class="line">Package wget-1.14-18.el7_6.1.x86_64 already installed and latest version</span><br><span class="line">Package lrzsz-0.12.20-36.el7.x86_64 already installed and latest version</span><br><span class="line">Resolving Dependencies</span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package curl.x86_64 0:7.29.0-57.el7 will be updated</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package curl.x86_64 0:7.29.0-57.el7_8.1 will be an update</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: libcurl = 7.29.0-57.el7_8.1 <span class="keyword">for</span> package: curl-7.29.0-57.el7_8.1.x86_64</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package dos2unix.x86_64 0:6.0.3-7.el7 will be installed</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package git.x86_64 0:1.8.3.1-23.el7_8 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: perl-Git = 1.8.3.1-23.el7_8 <span class="keyword">for</span> package: git-1.8.3.1-23.el7_8.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: perl(Term::ReadKey) <span class="keyword">for</span> package: git-1.8.3.1-23.el7_8.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: perl(Git) <span class="keyword">for</span> package: git-1.8.3.1-23.el7_8.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: perl(Error) <span class="keyword">for</span> package: git-1.8.3.1-23.el7_8.x86_64</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package tree.x86_64 0:1.6.0-10.el7 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package libcurl.x86_64 0:7.29.0-57.el7 will be updated</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package libcurl.x86_64 0:7.29.0-57.el7_8.1 will be an update</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package perl-Error.noarch 1:0.17020-2.el7 will be installed</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package perl-Git.noarch 0:1.8.3.1-23.el7_8 will be installed</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package perl-TermReadKey.x86_64 0:2.30-20.el7 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Finished Dependency Resolution</span></span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">===========================================================================================================</span><br><span class="line"> Package                      Arch               Version                         Repository           Size</span><br><span class="line">===========================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> dos2unix                     x86_64             6.0.3-7.el7                     base                 74 k</span><br><span class="line"> git                          x86_64             1.8.3.1-23.el7_8                updates             4.4 M</span><br><span class="line"> tree                         x86_64             1.6.0-10.el7                    base                 46 k</span><br><span class="line">Updating:</span><br><span class="line"> curl                         x86_64             7.29.0-57.el7_8.1               updates             271 k</span><br><span class="line">Installing for dependencies:</span><br><span class="line"> perl-Error                   noarch             1:0.17020-2.el7                 base                 32 k</span><br><span class="line"> perl-Git                     noarch             1.8.3.1-23.el7_8                updates              56 k</span><br><span class="line"> perl-TermReadKey             x86_64             2.30-20.el7                     base                 31 k</span><br><span class="line">Updating for dependencies:</span><br><span class="line"> libcurl                      x86_64             7.29.0-57.el7_8.1               updates             223 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">===========================================================================================================</span><br><span class="line">Install  3 Packages (+3 Dependent packages)</span><br><span class="line">Upgrade  1 Package  (+1 Dependent package)</span><br><span class="line"></span><br><span class="line">Total download size: 5.1 M</span><br><span class="line">Downloading packages:</span><br><span class="line">No Presto metadata available for updates</span><br><span class="line">(1/8): dos2unix-6.0.3-7.el7.x86_64.rpm                                              |  74 kB  00:00:00     </span><br><span class="line">(2/8): curl-7.29.0-57.el7_8.1.x86_64.rpm                                            | 271 kB  00:00:01     </span><br><span class="line">(3/8): git-1.8.3.1-23.el7_8.x86_64.rpm                                              | 4.4 MB  00:00:01     </span><br><span class="line">(4/8): libcurl-7.29.0-57.el7_8.1.x86_64.rpm                                         | 223 kB  00:00:00     </span><br><span class="line">(5/8): perl-Git-1.8.3.1-23.el7_8.noarch.rpm                                         |  56 kB  00:00:00     </span><br><span class="line">(6/8): perl-Error-0.17020-2.el7.noarch.rpm                                          |  32 kB  00:00:01     </span><br><span class="line">(7/8): perl-TermReadKey-2.30-20.el7.x86_64.rpm                                      |  31 kB  00:00:01     </span><br><span class="line">(8/8): tree-1.6.0-10.el7.x86_64.rpm                                                 |  46 kB  00:00:00     </span><br><span class="line">-----------------------------------------------------------------------------------------------------------</span><br><span class="line">Total                                                                      2.1 MB/s | 5.1 MB  00:00:02     </span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Updating   : libcurl-7.29.0-57.el7_8.1.x86_64                                                       1/10 </span><br><span class="line">  Installing : 1:perl-Error-0.17020-2.el7.noarch                                                      2/10 </span><br><span class="line">  Installing : perl-TermReadKey-2.30-20.el7.x86_64                                                    3/10 </span><br><span class="line">  Installing : perl-Git-1.8.3.1-23.el7_8.noarch                                                       4/10 </span><br><span class="line">  Installing : git-1.8.3.1-23.el7_8.x86_64                                                            5/10 </span><br><span class="line">  Updating   : curl-7.29.0-57.el7_8.1.x86_64                                                          6/10 </span><br><span class="line">  Installing : tree-1.6.0-10.el7.x86_64                                                               7/10 </span><br><span class="line">  Installing : dos2unix-6.0.3-7.el7.x86_64                                                            8/10 </span><br><span class="line">  Cleanup    : curl-7.29.0-57.el7.x86_64                                                              9/10 </span><br><span class="line">  Cleanup    : libcurl-7.29.0-57.el7.x86_64                                                          10/10 </span><br><span class="line">  Verifying  : git-1.8.3.1-23.el7_8.x86_64                                                            1/10 </span><br><span class="line">  Verifying  : dos2unix-6.0.3-7.el7.x86_64                                                            2/10 </span><br><span class="line">  Verifying  : perl-TermReadKey-2.30-20.el7.x86_64                                                    3/10 </span><br><span class="line">  Verifying  : 1:perl-Error-0.17020-2.el7.noarch                                                      4/10 </span><br><span class="line">  Verifying  : curl-7.29.0-57.el7_8.1.x86_64                                                          5/10 </span><br><span class="line">  Verifying  : tree-1.6.0-10.el7.x86_64                                                               6/10 </span><br><span class="line">  Verifying  : libcurl-7.29.0-57.el7_8.1.x86_64                                                       7/10 </span><br><span class="line">  Verifying  : perl-Git-1.8.3.1-23.el7_8.noarch                                                       8/10 </span><br><span class="line">  Verifying  : curl-7.29.0-57.el7.x86_64                                                              9/10 </span><br><span class="line">  Verifying  : libcurl-7.29.0-57.el7.x86_64                                                          10/10 </span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  dos2unix.x86_64 0:6.0.3-7.el7       git.x86_64 0:1.8.3.1-23.el7_8       tree.x86_64 0:1.6.0-10.el7      </span><br><span class="line"></span><br><span class="line">Dependency Installed:</span><br><span class="line">  perl-Error.noarch 1:0.17020-2.el7                     perl-Git.noarch 0:1.8.3.1-23.el7_8                </span><br><span class="line">  perl-TermReadKey.x86_64 0:2.30-20.el7                </span><br><span class="line"></span><br><span class="line">Updated:</span><br><span class="line">  curl.x86_64 0:7.29.0-57.el7_8.1                                                                          </span><br><span class="line"></span><br><span class="line">Dependency Updated:</span><br><span class="line">  libcurl.x86_64 0:7.29.0-57.el7_8.1                                                                       </span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure>

<h2 id="6、更换软件源"><a href="#6、更换软件源" class="headerlink" title="6、更换软件源"></a>6、更换软件源</h2><blockquote>
<p>下载软件更快。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 使用网易的镜像源</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 源存储目录</span></span><br><span class="line">cd /etc/yum.repos.d/</span><br><span class="line"><span class="meta">#</span><span class="bash"> 更改名称进行备份</span></span><br><span class="line">mv CentOS-Base.repo CentOS-Base.repo.ori</span><br><span class="line"><span class="meta">#</span><span class="bash"> 下载文件</span></span><br><span class="line">wget http://mirrors.163.com/.help/CentOS6-Base-163.repo</span><br><span class="line"><span class="meta">#</span><span class="bash"> 更改名称</span></span><br><span class="line">mv CentOS6-Base-163.repo CentOS-Base.repo</span><br><span class="line"><span class="meta">#</span><span class="bash"> 清理缓存</span></span><br><span class="line">yum -y clean all</span><br><span class="line"><span class="meta">#</span><span class="bash"> 更新缓存</span></span><br><span class="line">yum makecache </span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cd /etc/yum.repos.d/</span><br><span class="line">[root@localhost yum.repos.d]# mv CentOS-Base.repo CentOS-Base.repo.ori</span><br><span class="line">[root@localhost yum.repos.d]# wget http://mirrors.163.com/.help/CentOS6-Base-163.repo</span><br><span class="line">--2020-09-25 11:18:45--  http://mirrors.163.com/.help/CentOS6-Base-163.repo</span><br><span class="line">Resolving mirrors.163.com (mirrors.163.com)... 59.111.0.251</span><br><span class="line">Connecting to mirrors.163.com (mirrors.163.com)|59.111.0.251|:80... connected.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 2006 (2.0K) [application/octet-stream]</span><br><span class="line">Saving to: ‘CentOS6-Base-163.repo’</span><br><span class="line"></span><br><span class="line"><span class="meta">100%</span><span class="bash">[=================================================================&gt;] 2,006       --.-K/s   <span class="keyword">in</span> 0s      </span></span><br><span class="line"></span><br><span class="line">2020-09-25 11:18:45 (296 MB/s) - ‘CentOS6-Base-163.repo’ saved [2006/2006]</span><br><span class="line"></span><br><span class="line">[root@localhost yum.repos.d]# mv CentOS6-Base-163.repo CentOS-Base.repo</span><br><span class="line">[root@localhost yum.repos.d]# yum -y clean all</span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">Cleaning repos: base extras updates</span><br><span class="line">Cleaning up list of fastest mirrors</span><br><span class="line">[root@localhost yum.repos.d]# yum makecache </span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">Determining fastest mirrors</span><br><span class="line">base                                                                                | 3.6 kB  00:00:00     </span><br><span class="line">extras                                                                              | 2.9 kB  00:00:00     </span><br><span class="line">updates                                                                             | 2.9 kB  00:00:00     </span><br><span class="line">(1/10): base/7/x86_64/group_gz                                                      | 153 kB  00:00:00     </span><br><span class="line">(2/10): base/7/x86_64/filelists_db                                                  | 7.1 MB  00:00:01     </span><br><span class="line">(3/10): base/7/x86_64/other_db                                                      | 2.6 MB  00:00:00     </span><br><span class="line">(4/10): base/7/x86_64/primary_db                                                    | 6.1 MB  00:00:03     </span><br><span class="line">(5/10): extras/7/x86_64/filelists_db                                                | 217 kB  00:00:05     </span><br><span class="line">(6/10): extras/7/x86_64/primary_db                                                  | 206 kB  00:00:05     </span><br><span class="line">(7/10): extras/7/x86_64/other_db                                                    | 124 kB  00:00:00     </span><br><span class="line">(8/10): updates/7/x86_64/filelists_db                                               | 2.4 MB  00:00:00     </span><br><span class="line">(9/10): updates/7/x86_64/primary_db                                                 | 4.5 MB  00:00:00     </span><br><span class="line">(10/10): updates/7/x86_64/other_db                                                  | 318 kB  00:00:00     </span><br><span class="line">Metadata Cache Created</span><br><span class="line">[root@localhost yum.repos.d]# cd ~</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure>

<h2 id="7、更改hosts文件"><a href="#7、更改hosts文件" class="headerlink" title="7、更改hosts文件"></a>7、更改hosts文件</h2><blockquote>
<p>设置默认域名、IP对应表。</p>
<p>vim /etc/hosts<br>192.168.30.2 orderer0.example.com<br>192.168.30.2 kafka0<br>192.168.30.2 zookeeper0<br>192.168.30.3 orderer1.example.com<br>192.168.30.3 kafka1<br>192.168.30.3 zookeeper1<br>192.168.30.4 orderer2.example.com<br>192.168.30.4 kafka2<br>192.168.30.4 zookeeper2<br>192.168.30.5 kafka3<br>192.168.30.6 peer0.org1.example.com<br>192.168.30.7 peer1.org1.example.com<br>192.168.30.8 peer0.org2.example.com<br>192.168.30.9 peer1.org2.example.com</p>
</blockquote>
<h1 id="（三）区块链浏览器相关配置"><a href="#（三）区块链浏览器相关配置" class="headerlink" title="（三）区块链浏览器相关配置"></a>（三）区块链浏览器相关配置</h1><p>参考文献： </p>
<p><a href="https://learnblockchain.cn/article/1420" target="_blank" rel="noopener">https://learnblockchain.cn/article/1420</a> </p>
<p><a href="https://blog.csdn.net/ory001/article/details/108360167" target="_blank" rel="noopener">https://blog.csdn.net/ory001/article/details/108360167</a> </p>
<p><a href="https://blog.csdn.net/drbinzhao/article/details/85953319" target="_blank" rel="noopener">https://blog.csdn.net/drbinzhao/article/details/85953319</a> </p>
<p><a href="http://www.htsjk.com/postgresSQL/27622.html" target="_blank" rel="noopener">http://www.htsjk.com/postgresSQL/27622.html</a> </p>
<h2 id="1、blockchain-explorer"><a href="#1、blockchain-explorer" class="headerlink" title="1、blockchain-explorer"></a>1、blockchain-explorer</h2><blockquote>
<p> git clone <a href="https://gitee.com/ryou5416/blockchain-explorer.git" target="_blank" rel="noopener">https://gitee.com/ryou5416/blockchain-explorer.git</a> </p>
<p> 或者</p>
<p> git clone <a href="https://github.com/CupsWen/blockchain-explorer.git" target="_blank" rel="noopener">https://github.com/CupsWen/blockchain-explorer.git</a> </p>
<p> (是把上边的数据备份了一份)</p>
<p> <strong><code>注意下载的位置：root用户的/usr/local。</code></strong></p>
<blockquote>
<p>这个位置要su postgres之后能访问到，不一定非得是这个位置。</p>
</blockquote>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cd /usr/local</span><br><span class="line">[root@localhost local]# ls</span><br><span class="line">bin  blockchain-explorer  etc  games  include  lib  lib64  libexec  nodejs  sbin  share  src</span><br><span class="line">[root@localhost local]$ git clone  https://github.com/CupsWen/blockchain-explorer.git</span><br><span class="line">Cloning into 'blockchain-explorer'...</span><br><span class="line">remote: Enumerating objects: 627, done.</span><br><span class="line">remote: Counting objects: 100% (627/627), done.</span><br><span class="line">remote: Compressing objects: 100% (481/481), done.</span><br><span class="line">remote: Total 627 (delta 104), reused 627 (delta 104), pack-reused 0</span><br><span class="line">Receiving objects: 100% (627/627), 14.66 MiB | 74.00 KiB/s, done.</span><br><span class="line">Resolving deltas: 100% (104/104), done.</span><br><span class="line">[root@localhost local]$</span><br></pre></td></tr></table></figure>

<h2 id="2、PostgreSQL"><a href="#2、PostgreSQL" class="headerlink" title="2、PostgreSQL"></a>2、PostgreSQL</h2><h3 id="（1）安装PostgreSQL"><a href="#（1）安装PostgreSQL" class="headerlink" title="（1）安装PostgreSQL"></a>（1）安装PostgreSQL</h3><blockquote>
<p>开源数据库，用于存放区块链信息。</p>
<p>访问网址填写机器相关信息：<a href="https://www.postgresql.org/download/linux/redhat/" target="_blank" rel="noopener">https://www.postgresql.org/download/linux/redhat/</a> </p>
<p>获得的安装命令如下所示：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Install the repository RPM:</span></span><br><span class="line">yum install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm</span><br><span class="line"><span class="meta">#</span><span class="bash"> Install PostgreSQL:</span></span><br><span class="line">yum install -y postgresql95-server</span><br><span class="line"><span class="meta">#</span><span class="bash"> Optionally initialize the database and <span class="built_in">enable</span> automatic start:</span></span><br><span class="line">/usr/pgsql-9.5/bin/postgresql95-setup initdb</span><br><span class="line">systemctl enable postgresql-9.5</span><br><span class="line">systemctl start postgresql-9.5</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><strong>注意一定要在装完后，切换到/usr/local目录下，确认postgres用户可以访问。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@vm192168308 ~]# cd /usr/local</span><br><span class="line">[root@vm192168308 local]# su postgres</span><br><span class="line">bash-4.2$ ls</span><br><span class="line">bin  etc  games  go  include  lib	lib64  libexec	nodejs	sbin  share  src</span><br><span class="line">bash-4.2$ exit</span><br><span class="line">[root@vm192168308 local]# </span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm</span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">pgdg-redhat-repo-latest.noarch.rpm                                                  | 6.7 kB  00:00:00     </span><br><span class="line">Examining /var/tmp/yum-root-x32c48/pgdg-redhat-repo-latest.noarch.rpm: pgdg-redhat-repo-42.0-13.noarch</span><br><span class="line">Marking /var/tmp/yum-root-x32c48/pgdg-redhat-repo-latest.noarch.rpm to be installed</span><br><span class="line">Resolving Dependencies</span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package pgdg-redhat-repo.noarch 0:42.0-13 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Finished Dependency Resolution</span></span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">===========================================================================================================</span><br><span class="line"> Package                   Arch            Version          Repository                                Size</span><br><span class="line">===========================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> pgdg-redhat-repo          noarch          42.0-13          /pgdg-redhat-repo-latest.noarch           11 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">===========================================================================================================</span><br><span class="line">Install  1 Package</span><br><span class="line"></span><br><span class="line">Total size: 11 k</span><br><span class="line">Installed size: 11 k</span><br><span class="line">Downloading packages:</span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Installing : pgdg-redhat-repo-42.0-13.noarch                                                         1/1 </span><br><span class="line">  Verifying  : pgdg-redhat-repo-42.0-13.noarch                                                         1/1 </span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  pgdg-redhat-repo.noarch 0:42.0-13                                                                        </span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@localhost ~]# yum install -y postgresql95-server</span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">pgdg-common                                                                         | 2.9 kB  00:00:00     </span><br><span class="line">pgdg10                                                                              | 3.6 kB  00:00:00     </span><br><span class="line">pgdg11                                                                              | 3.6 kB  00:00:00     </span><br><span class="line">pgdg12                                                                              | 3.6 kB  00:00:00     </span><br><span class="line">pgdg13                                                                              | 3.6 kB  00:00:00     </span><br><span class="line">pgdg95                                                                              | 3.6 kB  00:00:00     </span><br><span class="line">pgdg96                                                                              | 3.6 kB  00:00:00     </span><br><span class="line">(1/13): pgdg11/7/x86_64/group_gz                                                    |  245 B  00:00:01     </span><br><span class="line">(2/13): pgdg12/7/x86_64/group_gz                                                    |  245 B  00:00:00     </span><br><span class="line">(3/13): pgdg10/7/x86_64/group_gz                                                    |  245 B  00:00:01     </span><br><span class="line">(4/13): pgdg-common/7/x86_64/primary_db                                             | 134 kB  00:00:02     </span><br><span class="line">(5/13): pgdg13/7/x86_64/group_gz                                                    |  246 B  00:00:00     </span><br><span class="line">(6/13): pgdg13/7/x86_64/primary_db                                                  |  35 kB  00:00:00     </span><br><span class="line">(7/13): pgdg95/7/x86_64/group_gz                                                    |  249 B  00:00:00     </span><br><span class="line">(8/13): pgdg11/7/x86_64/primary_db                                                  | 268 kB  00:00:02     </span><br><span class="line">(9/13): pgdg96/7/x86_64/group_gz                                                    |  249 B  00:00:00     </span><br><span class="line">(10/13): pgdg95/7/x86_64/primary_db                                                 | 221 kB  00:00:00     </span><br><span class="line">(11/13): pgdg12/7/x86_64/primary_db                                                 | 134 kB  00:00:02     </span><br><span class="line">(12/13): pgdg96/7/x86_64/primary_db                                                 | 253 kB  00:00:02     </span><br><span class="line">(13/13): pgdg10/7/x86_64/primary_db                                                 | 262 kB  00:00:13     </span><br><span class="line">Resolving Dependencies</span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package postgresql95-server.x86_64 0:9.5.23-1PGDG.rhel7 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: postgresql95-libs(x86-64) = 9.5.23-1PGDG.rhel7 <span class="keyword">for</span> package: postgresql95-server-9.5.23-1PGDG.rhel7.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: postgresql95(x86-64) = 9.5.23-1PGDG.rhel7 <span class="keyword">for</span> package: postgresql95-server-9.5.23-1PGDG.rhel7.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: postgresql95 = 9.5.23-1PGDG.rhel7 <span class="keyword">for</span> package: postgresql95-server-9.5.23-1PGDG.rhel7.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: libpq.so.5()(64bit) <span class="keyword">for</span> package: postgresql95-server-9.5.23-1PGDG.rhel7.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package postgresql95.x86_64 0:9.5.23-1PGDG.rhel7 will be installed</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package postgresql95-libs.x86_64 0:9.5.23-1PGDG.rhel7 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Finished Dependency Resolution</span></span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">===========================================================================================================</span><br><span class="line"> Package                        Arch              Version                          Repository         Size</span><br><span class="line">===========================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> postgresql95-server            x86_64            9.5.23-1PGDG.rhel7               pgdg95            4.1 M</span><br><span class="line">Installing for dependencies:</span><br><span class="line"> postgresql95                   x86_64            9.5.23-1PGDG.rhel7               pgdg95            1.3 M</span><br><span class="line"> postgresql95-libs              x86_64            9.5.23-1PGDG.rhel7               pgdg95            225 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">===========================================================================================================</span><br><span class="line">Install  1 Package (+2 Dependent packages)</span><br><span class="line"></span><br><span class="line">Total download size: 5.7 M</span><br><span class="line">Installed size: 24 M</span><br><span class="line">Downloading packages:</span><br><span class="line">warning: /var/cache/yum/x86_64/7/pgdg95/packages/postgresql95-libs-9.5.23-1PGDG.rhel7.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 442df0f8: NOKEY</span><br><span class="line">Public key for postgresql95-libs-9.5.23-1PGDG.rhel7.x86_64.rpm is not installed</span><br><span class="line">(1/3): postgresql95-libs-9.5.23-1PGDG.rhel7.x86_64.rpm                              | 225 kB  00:00:04     </span><br><span class="line">(2/3): postgresql95-9.5.23-1PGDG.rhel7.x86_64.rpm                                   | 1.3 MB  00:00:05     </span><br><span class="line">(3/3): postgresql95-server-9.5.23-1PGDG.rhel7.x86_64.rpm                            | 4.1 MB  00:00:06     </span><br><span class="line">-----------------------------------------------------------------------------------------------------------</span><br><span class="line">Total                                                                      534 kB/s | 5.7 MB  00:00:10     </span><br><span class="line">Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-PGDG</span><br><span class="line">Importing GPG key 0x442DF0F8:</span><br><span class="line"> Userid     : "PostgreSQL RPM Building Project &lt;pgsqlrpms-hackers@pgfoundry.org&gt;"</span><br><span class="line"> Fingerprint: 68c9 e2b9 1a37 d136 fe74 d176 1f16 d2e1 442d f0f8</span><br><span class="line"> Package    : pgdg-redhat-repo-42.0-13.noarch (@/pgdg-redhat-repo-latest.noarch)</span><br><span class="line"> From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-PGDG</span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Installing : postgresql95-libs-9.5.23-1PGDG.rhel7.x86_64                                             1/3 </span><br><span class="line">  Installing : postgresql95-9.5.23-1PGDG.rhel7.x86_64                                                  2/3 </span><br><span class="line">  Installing : postgresql95-server-9.5.23-1PGDG.rhel7.x86_64                                           3/3 </span><br><span class="line">  Verifying  : postgresql95-9.5.23-1PGDG.rhel7.x86_64                                                  1/3 </span><br><span class="line">  Verifying  : postgresql95-libs-9.5.23-1PGDG.rhel7.x86_64                                             2/3 </span><br><span class="line">  Verifying  : postgresql95-server-9.5.23-1PGDG.rhel7.x86_64                                           3/3 </span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  postgresql95-server.x86_64 0:9.5.23-1PGDG.rhel7                                                          </span><br><span class="line"></span><br><span class="line">Dependency Installed:</span><br><span class="line">  postgresql95.x86_64 0:9.5.23-1PGDG.rhel7          postgresql95-libs.x86_64 0:9.5.23-1PGDG.rhel7         </span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@localhost ~]# /usr/pgsql-9.5/bin/postgresql95-setup initdb</span><br><span class="line">Initializing database ... OK</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# systemctl enable postgresql-9.5</span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/postgresql-9.5.service to /usr/lib/systemd/system/postgresql-9.5.service.</span><br><span class="line">[root@localhost ~]# systemctl start postgresql-9.5</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure>

<h3 id="（2）配置密码"><a href="#（2）配置密码" class="headerlink" title="（2）配置密码"></a>（2）配置密码</h3><blockquote>
<p>上面只能表示这个数据库装上了。还需要进行一些设置。</p>
</blockquote>
<blockquote>
<p><strong>修改数据用户postgres的密码</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 登录PostgreSQL </span></span><br><span class="line">sudo -u postgres psql </span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改登录PostgreSQL密码 </span></span><br><span class="line">ALTER USER postgres WITH PASSWORD '123456789'; </span><br><span class="line"><span class="meta">#</span><span class="bash"> 退出PostgreSQL客户端</span></span><br><span class="line">\q</span><br></pre></td></tr></table></figure>

<p><strong>修改linux系统用户postgres的密码</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 删除用户postgres的密码</span></span><br><span class="line">sudo passwd -d postgres</span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置用户postgres的密码</span></span><br><span class="line">sudo -u postgres passwd</span><br><span class="line"><span class="meta">#</span><span class="bash"> 系统提示输入新的密码</span></span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 密码123456</span></span><br><span class="line">[root@localhost ~]# sudo -u postgres psql </span><br><span class="line">could not change directory to "/root": Permission denied</span><br><span class="line">psql (9.5.23)</span><br><span class="line">Type "help" for help.</span><br><span class="line"></span><br><span class="line">postgres=# ALTER USER postgres WITH PASSWORD '123456789'; </span><br><span class="line">ALTER ROLE</span><br><span class="line">postgres=# \q</span><br><span class="line"><span class="meta">#</span><span class="bash"> 密码hello123456</span></span><br><span class="line">[root@localhost ~]# sudo passwd -d postgres</span><br><span class="line">Removing password for user postgres.</span><br><span class="line">passwd: Success</span><br><span class="line">[root@localhost ~]# sudo -u postgres passwd</span><br><span class="line">Changing password for user postgres.</span><br><span class="line">New password: </span><br><span class="line">Retype new password: </span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure>

<h3 id="（3）配置实现远程访问"><a href="#（3）配置实现远程访问" class="headerlink" title="（3）配置实现远程访问"></a>（3）配置实现远程访问</h3><blockquote>
<p>vim /var/lib/pgsql/9.5/data/postgresql.conf</p>
<p>// 监听任何地址访问，修改连接权限 59行</p>
<p>// listen_addresses = ‘localhost’ 改为 listen_addresses = ‘*’</p>
<p>// 启用密码验证 88行</p>
<p>// # password_encryption = on 改为 password_encryption = on</p>
<p>vim /var/lib/pgsql/9.5/data/pg_hba.conf</p>
<p>// 在文档末尾加上以下内容</p>
<p>// host    all             all             0.0.0.0/0         md5</p>
<p>// 重启服务</p>
<p>systemctl restart postgresql-9.5.service</p>
</blockquote>
<h2 id="3、Node"><a href="#3、Node" class="headerlink" title="3、Node"></a>3、Node</h2><blockquote>
<p>blockchain-explorer代码的执行环境。因为blockchain-explorer使用js写的。</p>
<p>下载地址：<a href="https://nodejs.org/dist/v10.19.0/" target="_blank" rel="noopener">https://nodejs.org/dist/v10.19.0/</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 下载安装包</span></span><br><span class="line">wget https://nodejs.org/dist/v10.19.0/node-v10.19.0-linux-x64.tar.gz</span><br><span class="line"><span class="meta">#</span><span class="bash"> 解压</span></span><br><span class="line">tar -C /usr/local -xzf node-v10.19.0-linux-x64.tar.gz</span><br><span class="line"><span class="meta">#</span><span class="bash"> 重命名</span></span><br><span class="line">cd /usr/local</span><br><span class="line">mv node-v10.19.0-linux-x64 nodejs</span><br><span class="line"><span class="meta">#</span><span class="bash"> 打开环境变量配置文件</span></span><br><span class="line">vim /etc/profile</span><br><span class="line"><span class="meta">#</span><span class="bash"> 写入</span></span><br><span class="line">export PATH=$PATH:/usr/local/nodejs/bin</span><br><span class="line"><span class="meta">#</span><span class="bash"> 更新</span></span><br><span class="line">source /etc/profile</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看版本</span></span><br><span class="line">node -v</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]$ wget https://nodejs.org/dist/v10.19.0/node-v10.19.0-linux-x64.tar.gz</span><br><span class="line">--2020-09-24 16:47:55--  https://nodejs.org/dist/v10.19.0/node-v10.19.0-linux-x64.tar.gz</span><br><span class="line">Resolving nodejs.org (nodejs.org)... 104.20.23.46, 104.20.22.46, 2606:4700:10::6814:172e, ...</span><br><span class="line">Connecting to nodejs.org (nodejs.org)|104.20.23.46|:443... connected.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 21262197 (20M) [application/gzip]</span><br><span class="line">Saving to: ‘node-v10.19.0-linux-x64.tar.gz’</span><br><span class="line"></span><br><span class="line"><span class="meta">100%</span><span class="bash">[======================================&gt;] 21,262,197   804KB/s   <span class="keyword">in</span> 34s    </span></span><br><span class="line"></span><br><span class="line">2020-09-24 16:48:30 (619 KB/s) - ‘node-v10.19.0-linux-x64.tar.gz’ saved [21262197/21262197]</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# tar -C /usr/local -xzf node-v10.19.0-linux-x64.tar.gz</span><br><span class="line">[root@localhost ~]# cd /usr/local</span><br><span class="line">[root@localhost local]# mv node-v10.19.0-linux-x64 nodejs</span><br><span class="line">[root@localhost local]# vim /etc/profile</span><br><span class="line">[root@localhost local]# source /etc/profile</span><br><span class="line">[root@localhost local]# node -v</span><br><span class="line">v10.19.0</span><br><span class="line">[root@localhost local]#</span><br></pre></td></tr></table></figure>

<h2 id="4、jq"><a href="#4、jq" class="headerlink" title="4、jq"></a>4、jq</h2><blockquote>
<p>一个解析数据的函数包，被blockchain-explorer所使用，版本号（jq.x86_64 0:1.6-2.el7 ）。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装EPEL源：</span></span><br><span class="line">yum install epel-release</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装完EPEL源后，可以查看下jq包是否存在：</span></span><br><span class="line">yum list jq</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装jq：</span></span><br><span class="line">yum install jq</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost local]# yum install epel-release</span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">Resolving Dependencies</span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package epel-release.noarch 0:7-11 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Finished Dependency Resolution</span></span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">===========================================================================================================</span><br><span class="line"> Package                       Arch                    Version               Repository               Size</span><br><span class="line">===========================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> epel-release                  noarch                  7-11                  extras                   15 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">===========================================================================================================</span><br><span class="line">Install  1 Package</span><br><span class="line"></span><br><span class="line">Total download size: 15 k</span><br><span class="line">Installed size: 24 k</span><br><span class="line">Is this ok [y/d/N]: y</span><br><span class="line">Downloading packages:</span><br><span class="line">epel-release-7-11.noarch.rpm                                                        |  15 kB  00:00:00     </span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Installing : epel-release-7-11.noarch                                                                1/1 </span><br><span class="line">  Verifying  : epel-release-7-11.noarch                                                                1/1 </span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  epel-release.noarch 0:7-11                                                                               </span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@localhost local]# yum list jq</span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">epel/x86_64/metalink                                                                | 6.3 kB  00:00:00     </span><br><span class="line"> * epel: mirrors.tuna.tsinghua.edu.cn</span><br><span class="line">epel                                                                                | 4.7 kB  00:00:00     </span><br><span class="line">(1/3): epel/x86_64/group_gz                                                         |  95 kB  00:00:00     </span><br><span class="line">(2/3): epel/x86_64/updateinfo                                                       | 1.0 MB  00:00:01     </span><br><span class="line">(3/3): epel/x86_64/primary_db                                                       | 6.9 MB  00:00:03     </span><br><span class="line">Available Packages</span><br><span class="line">jq.x86_64                                          1.6-2.el7                                           epel</span><br><span class="line">[root@localhost local]# yum install jq</span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * epel: mirrors.tuna.tsinghua.edu.cn</span><br><span class="line">Resolving Dependencies</span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package jq.x86_64 0:1.6-2.el7 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: libonig.so.5()(64bit) <span class="keyword">for</span> package: jq-1.6-2.el7.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package oniguruma.x86_64 0:6.8.2-1.el7 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Finished Dependency Resolution</span></span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">===========================================================================================================</span><br><span class="line"> Package                   Arch                   Version                       Repository            Size</span><br><span class="line">===========================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> jq                        x86_64                 1.6-2.el7                     epel                 167 k</span><br><span class="line">Installing for dependencies:</span><br><span class="line"> oniguruma                 x86_64                 6.8.2-1.el7                   epel                 181 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">===========================================================================================================</span><br><span class="line">Install  1 Package (+1 Dependent package)</span><br><span class="line"></span><br><span class="line">Total download size: 348 k</span><br><span class="line">Installed size: 1.0 M</span><br><span class="line">Is this ok [y/d/N]: y</span><br><span class="line">Downloading packages:</span><br><span class="line">warning: /var/cache/yum/x86_64/7/epel/packages/jq-1.6-2.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID 352c64e5: NOKEY</span><br><span class="line">Public key for jq-1.6-2.el7.x86_64.rpm is not installed</span><br><span class="line">(1/2): jq-1.6-2.el7.x86_64.rpm                                                      | 167 kB  00:00:00     </span><br><span class="line">(2/2): oniguruma-6.8.2-1.el7.x86_64.rpm                                             | 181 kB  00:00:00     </span><br><span class="line">-----------------------------------------------------------------------------------------------------------</span><br><span class="line">Total                                                                      712 kB/s | 348 kB  00:00:00     </span><br><span class="line">Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7</span><br><span class="line">Importing GPG key 0x352C64E5:</span><br><span class="line"> Userid     : "Fedora EPEL (7) &lt;epel@fedoraproject.org&gt;"</span><br><span class="line"> Fingerprint: 91e9 7d7c 4a5e 96f1 7f3e 888f 6a2f aea2 352c 64e5</span><br><span class="line"> Package    : epel-release-7-11.noarch (@extras)</span><br><span class="line"> From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7</span><br><span class="line">Is this ok [y/N]: y</span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Installing : oniguruma-6.8.2-1.el7.x86_64                                                            1/2 </span><br><span class="line">  Installing : jq-1.6-2.el7.x86_64                                                                     2/2 </span><br><span class="line">  Verifying  : oniguruma-6.8.2-1.el7.x86_64                                                            1/2 </span><br><span class="line">  Verifying  : jq-1.6-2.el7.x86_64                                                                     2/2 </span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  jq.x86_64 0:1.6-2.el7                                                                                    </span><br><span class="line"></span><br><span class="line">Dependency Installed:</span><br><span class="line">  oniguruma.x86_64 0:6.8.2-1.el7                                                                           </span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@localhost local]#</span><br></pre></td></tr></table></figure>

<h2 id="5、gcc-c"><a href="#5、gcc-c" class="headerlink" title="5、gcc-c++"></a>5、gcc-c++</h2><blockquote>
<p>npm install用到了。</p>
<p>pkcs11的编译。</p>
<p>yum install -y gcc-c++</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost local]# yum install -y gcc-c++</span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * epel: mirrors.tuna.tsinghua.edu.cn</span><br><span class="line">Resolving Dependencies</span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package gcc-c++.x86_64 0:4.8.5-39.el7 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: libstdc++-devel = 4.8.5-39.el7 <span class="keyword">for</span> package: gcc-c++-4.8.5-39.el7.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: gcc = 4.8.5-39.el7 <span class="keyword">for</span> package: gcc-c++-4.8.5-39.el7.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package gcc.x86_64 0:4.8.5-39.el7 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: cpp = 4.8.5-39.el7 <span class="keyword">for</span> package: gcc-4.8.5-39.el7.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: glibc-devel &gt;= 2.2.90-12 <span class="keyword">for</span> package: gcc-4.8.5-39.el7.x86_64</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package libstdc++-devel.x86_64 0:4.8.5-39.el7 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package cpp.x86_64 0:4.8.5-39.el7 will be installed</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package glibc-devel.x86_64 0:2.17-307.el7.1 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: glibc-headers = 2.17-307.el7.1 <span class="keyword">for</span> package: glibc-devel-2.17-307.el7.1.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: glibc-headers <span class="keyword">for</span> package: glibc-devel-2.17-307.el7.1.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package glibc-headers.x86_64 0:2.17-307.el7.1 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: kernel-headers &gt;= 2.2.1 <span class="keyword">for</span> package: glibc-headers-2.17-307.el7.1.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: kernel-headers <span class="keyword">for</span> package: glibc-headers-2.17-307.el7.1.x86_64</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package kernel-headers.x86_64 0:3.10.0-1127.19.1.el7 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Finished Dependency Resolution</span></span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">===========================================================================================================</span><br><span class="line"> Package                     Arch               Version                          Repository           Size</span><br><span class="line">===========================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> gcc-c++                     x86_64             4.8.5-39.el7                     base                7.2 M</span><br><span class="line">Installing for dependencies:</span><br><span class="line"> cpp                         x86_64             4.8.5-39.el7                     base                5.9 M</span><br><span class="line"> gcc                         x86_64             4.8.5-39.el7                     base                 16 M</span><br><span class="line"> glibc-devel                 x86_64             2.17-307.el7.1                   base                1.1 M</span><br><span class="line"> glibc-headers               x86_64             2.17-307.el7.1                   base                689 k</span><br><span class="line"> kernel-headers              x86_64             3.10.0-1127.19.1.el7             updates             9.0 M</span><br><span class="line"> libstdc++-devel             x86_64             4.8.5-39.el7                     base                1.5 M</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">===========================================================================================================</span><br><span class="line">Install  1 Package (+6 Dependent packages)</span><br><span class="line"></span><br><span class="line">Total download size: 42 M</span><br><span class="line">Installed size: 84 M</span><br><span class="line">Downloading packages:</span><br><span class="line">(1/7): cpp-4.8.5-39.el7.x86_64.rpm                                                  | 5.9 MB  00:00:02     </span><br><span class="line">(2/7): gcc-4.8.5-39.el7.x86_64.rpm                                                  |  16 MB  00:00:02     </span><br><span class="line">(3/7): glibc-devel-2.17-307.el7.1.x86_64.rpm                                        | 1.1 MB  00:00:00     </span><br><span class="line">(4/7): gcc-c++-4.8.5-39.el7.x86_64.rpm                                              | 7.2 MB  00:00:01     </span><br><span class="line">(5/7): glibc-headers-2.17-307.el7.1.x86_64.rpm                                      | 689 kB  00:00:00     </span><br><span class="line">(6/7): libstdc++-devel-4.8.5-39.el7.x86_64.rpm                                      | 1.5 MB  00:00:00     </span><br><span class="line">(7/7): kernel-headers-3.10.0-1127.19.1.el7.x86_64.rpm                               | 9.0 MB  00:00:01     </span><br><span class="line">-----------------------------------------------------------------------------------------------------------</span><br><span class="line">Total                                                                      9.2 MB/s |  42 MB  00:00:04     </span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Installing : libstdc++-devel-4.8.5-39.el7.x86_64                                                     1/7 </span><br><span class="line">  Installing : kernel-headers-3.10.0-1127.19.1.el7.x86_64                                              2/7 </span><br><span class="line">  Installing : glibc-headers-2.17-307.el7.1.x86_64                                                     3/7 </span><br><span class="line">  Installing : glibc-devel-2.17-307.el7.1.x86_64                                                       4/7 </span><br><span class="line">  Installing : cpp-4.8.5-39.el7.x86_64                                                                 5/7 </span><br><span class="line">  Installing : gcc-4.8.5-39.el7.x86_64                                                                 6/7 </span><br><span class="line">  Installing : gcc-c++-4.8.5-39.el7.x86_64                                                             7/7 </span><br><span class="line">  Verifying  : glibc-headers-2.17-307.el7.1.x86_64                                                     1/7 </span><br><span class="line">  Verifying  : glibc-devel-2.17-307.el7.1.x86_64                                                       2/7 </span><br><span class="line">  Verifying  : gcc-c++-4.8.5-39.el7.x86_64                                                             3/7 </span><br><span class="line">  Verifying  : cpp-4.8.5-39.el7.x86_64                                                                 4/7 </span><br><span class="line">  Verifying  : gcc-4.8.5-39.el7.x86_64                                                                 5/7 </span><br><span class="line">  Verifying  : kernel-headers-3.10.0-1127.19.1.el7.x86_64                                              6/7 </span><br><span class="line">  Verifying  : libstdc++-devel-4.8.5-39.el7.x86_64                                                     7/7 </span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  gcc-c++.x86_64 0:4.8.5-39.el7                                                                            </span><br><span class="line"></span><br><span class="line">Dependency Installed:</span><br><span class="line">  cpp.x86_64 0:4.8.5-39.el7                               gcc.x86_64 0:4.8.5-39.el7                       </span><br><span class="line">  glibc-devel.x86_64 0:2.17-307.el7.1                     glibc-headers.x86_64 0:2.17-307.el7.1           </span><br><span class="line">  kernel-headers.x86_64 0:3.10.0-1127.19.1.el7            libstdc++-devel.x86_64 0:4.8.5-39.el7           </span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@localhost local]#</span><br></pre></td></tr></table></figure>

<h1 id="（四）blockchain-explorer配置"><a href="#（四）blockchain-explorer配置" class="headerlink" title="（四）blockchain-explorer配置"></a>（四）blockchain-explorer配置</h1><h2 id="1、修改配置文件"><a href="#1、修改配置文件" class="headerlink" title="1、修改配置文件"></a>1、修改配置文件</h2><h3 id="（1）appconfig-json"><a href="#（1）appconfig-json" class="headerlink" title="（1）appconfig.json"></a>（1）appconfig.json</h3><blockquote>
<p>文件所在路径：blockchain-explorer/appconfig.json。</p>
<p>文件功能：配置浏览器。</p>
<p>因为希望在别的机器也可以访问区块链浏览器，所以修改host中的localhost为本机IP：192.168.1.111。</p>
<p>sslEnabled：是否使用ssl。</p>
<p>sslCertsPath：ssl证书位置。</p>
<p>host：IP地址。</p>
<p>port：端口。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	"sslEnabled": false,</span><br><span class="line">	"sslCertsPath": "ssl-certs",</span><br><span class="line">	"host": "192.168.1.111",</span><br><span class="line">	"port": "8080",</span><br><span class="line">	"license": "Apache-2.0"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="（2）explorerconfig-json"><a href="#（2）explorerconfig-json" class="headerlink" title="（2）explorerconfig.json"></a>（2）explorerconfig.json</h3><blockquote>
<p>文件所在路径：blockchain-explorer/app/explorerconfig.json。</p>
<p>文件功能：配置浏览器。</p>
<p>修改host、database、username、passwd为自己的设置。</p>
</blockquote>
<blockquote>
<p>persistence：保留数据的数据库。</p>
<p>platforms：平台，platforms下面的目录。</p>
<p>postgreSQL：数据库相关配置。</p>
<p>​        host：数据库IP。</p>
<p>​        port：数据库端口。</p>
<p>​        database：数据库名称。</p>
<p>​        username：数据库用户。</p>
<p>​        passwd：用户密码。</p>
<p>sync：异步同步数据设置。</p>
<p>​        type： 同步进程和Hyperledger Explorer 的关系。host不再一台主机、local在一台主机。</p>
<p>​        platform：平台，platforms下面的目录。</p>
<p>​        blocksSyncTime：异步同步时间。1s。</p>
<p>jwt：身份授权配置。</p>
<p>​        secret：用于签名消息载荷的密文。</p>
<p>​         expiresIn：过期事件。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	"persistence": "postgreSQL",</span><br><span class="line">	"platforms": ["fabric"],</span><br><span class="line">	"postgreSQL": &#123;</span><br><span class="line">		"host": "192.168.1.111",</span><br><span class="line">		"port": "5432",</span><br><span class="line">		"database": "fabricexplorer",</span><br><span class="line">		"username": "cups",</span><br><span class="line">		"passwd": "123456789"</span><br><span class="line">	&#125;,</span><br><span class="line">	"sync": &#123;</span><br><span class="line">		"type": "local",</span><br><span class="line">		"platform": "fabric",</span><br><span class="line">		"blocksSyncTime": "1"</span><br><span class="line">	&#125;,</span><br><span class="line">	"jwt": &#123;</span><br><span class="line">		"secret": "a secret phrase!!",</span><br><span class="line">		"expiresIn": "2h"</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="（3）config-json"><a href="#（3）config-json" class="headerlink" title="（3）config.json"></a>（3）config.json</h3><blockquote>
<p>文件路径：blockchain-explorer/app/platform/fabric/config.json。</p>
<p>文件作用：网络配置文件，指向connection文件。</p>
<p>network-configs：网络。默认网络配置的集合，不能改变。</p>
<p>connection：网络名称。随意改，主要作用是用于区分不同网络。</p>
<p>name：网络名称。随意改，主要作用是用于区分不同网络。</p>
<p>profile：连接配置文件的路径。即将要建立连接文件路径。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	"network-configs": &#123;</span><br><span class="line">		"connection": &#123;</span><br><span class="line">			"name": "connection",</span><br><span class="line">			"profile": "./connection-profile/connection.json"</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	"license": "Apache-2.0"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="（4）证书"><a href="#（4）证书" class="headerlink" title="（4）证书"></a>（4）证书</h3><blockquote>
<p>将架设区块链浏览器的组织的管理员证书复制到这台虚拟机上。</p>
<p>这里以组织1的管理员证书和peer0.org1.example.com的peer证书为例。</p>
<p>证书的路径：crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com</p>
<p>​                       crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com</p>
<p>复制到本地虚拟机路径：/usr/local/crypto-config/Admin@org1.example.com</p>
<p>​                                         /usr/local/crypto-config/peer0.org1.example.com</p>
<p>采用SSH复制的方式，证书是前面kafka的证书。</p>
<p>现在关键证书的路径如下：</p>
<p>admin用户：</p>
<p>adminPrivateKey：/usr/local/crypto-config/Admin@org1.example.com/msp/keystore/1fd81eec726eb1474cb755da65deaef5426eb59f4b00bdf83d72b0615bae0a75_sk</p>
<p>signedCert：/usr/local/crypto-config/Admin@org1.example.com/msp/signcerts/Admin@org1.example.com-cert.pem</p>
<p>peer01的TLS通信证书：</p>
<p>tlsCACerts：/usr/local/crypto-config/peer0.org1.example.com/tls/ca.crt</p>
</blockquote>
<h3 id="（5）connection-json"><a href="#（5）connection-json" class="headerlink" title="（5）connection.json"></a>（5）connection.json</h3><blockquote>
<p>路径：blockchain-explorer/app/platform/fabric/connection-profile/connection.json。</p>
<p>作用：client使用连接配置文件，接入fabric网络。</p>
<p>vim connection.json</p>
<p>写入如下内容。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	"name": "kafka",</span><br><span class="line">	"version": "1.0.0",</span><br><span class="line">	"client": &#123;</span><br><span class="line">		"tlsEnable": true,</span><br><span class="line">		"adminCredential": &#123;</span><br><span class="line">			"id": "cups",</span><br><span class="line">			"password": "123456"</span><br><span class="line">		&#125;,</span><br><span class="line">		"enableAuthentication": true,</span><br><span class="line">		"organization": "Org1MSP",</span><br><span class="line">		"connection": &#123;</span><br><span class="line">			"timeout": &#123;</span><br><span class="line">				"peer": &#123;</span><br><span class="line">					"endorser": "300"</span><br><span class="line">				&#125;,</span><br><span class="line">				"orderer": "300"</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	"channels": &#123;</span><br><span class="line">		"mychannel": &#123;</span><br><span class="line">			"peers": &#123;</span><br><span class="line">				"peer0.org1.example.com": &#123;&#125;</span><br><span class="line">			&#125;,</span><br><span class="line">			"connection": &#123;</span><br><span class="line">				"timeout": &#123;</span><br><span class="line">					"peer": &#123;</span><br><span class="line">						"endorser": "6000",</span><br><span class="line">						"eventHub": "6000",</span><br><span class="line">						"eventReg": "6000"</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	"organizations": &#123;</span><br><span class="line">		"Org1MSP": &#123;</span><br><span class="line">			"mspid": "Org1MSP",</span><br><span class="line">			"adminPrivateKey": &#123;</span><br><span class="line">				"path": "/usr/local/crypto-config/Admin@org1.example.com/msp/keystore/1fd81eec726eb1474cb755da65deaef5426eb59f4b00bdf83d72b0615bae0a75_sk"</span><br><span class="line">			&#125;,</span><br><span class="line">			"peers": ["peer0.org1.example.com"],</span><br><span class="line">			"signedCert": &#123;</span><br><span class="line">				"path": "/usr/local/crypto-config/Admin@org1.example.com/msp/signcerts/Admin@org1.example.com-cert.pem"</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	"peers": &#123;</span><br><span class="line">		"peer0.org1.example.com": &#123;</span><br><span class="line">			"tlsCACerts": &#123;</span><br><span class="line">				"path": "/usr/local/crypto-config/peer0.org1.example.com/tls/ca.crt"</span><br><span class="line">			&#125;,</span><br><span class="line">			"url": "grpcs://peer0.org1.example.com:7051"</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="（6）start-sh"><a href="#（6）start-sh" class="headerlink" title="（6）start.sh"></a>（6）start.sh</h3><blockquote>
<p>路径：blockchain-explorer/start.sh</p>
<p>作用：区块链浏览器启动入口。</p>
<p>之所以要修改，是想把一些配置信息写死了，免的回头忘记。</p>
<p>LOG_LEVEL_APP：APP日志级别。</p>
<p>LOG_LEVEL_DB：数据库日志级别。</p>
<p>LOG_LEVEL_CONSOLE：终端日志级别。</p>
<p>LOG_CONSOLE_STDOUT：中终端输出日志信息。</p>
<p>DISCOVERY_AS_LOCALHOST：peer节点是否在本地。===========&gt;重点是要把这个设定为false。</p>
<blockquote>
<p>start.sh的输出主要有：app、db、console。</p>
<p>我们上边设置export LOG_CONSOLE_STDOUT=true主要是为了直观的观察程序运行情况。</p>
<p>若不这么做，需要去blockchain-explorer/logs/console/console.log中不断查看比较麻烦。</p>
</blockquote>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">echo "************************************************************************************"</span><br><span class="line">echo "**************************** Hyperledger Explorer **********************************"</span><br><span class="line">echo "************************************************************************************"</span><br><span class="line"></span><br><span class="line">export LOG_LEVEL_APP=debug</span><br><span class="line">export LOG_LEVEL_DB=debug</span><br><span class="line">export LOG_LEVEL_CONSOLE=info</span><br><span class="line">export LOG_CONSOLE_STDOUT=true</span><br><span class="line">export DISCOVERY_AS_LOCALHOST=false</span><br><span class="line"></span><br><span class="line">node main.js name - hyperledger-explorer &amp;</span><br></pre></td></tr></table></figure>

<h2 id="2、初始化数据库"><a href="#2、初始化数据库" class="headerlink" title="2、初始化数据库"></a>2、初始化数据库</h2><blockquote>
<p>对数据库进行初始化。</p>
<p>主要是根据配置文件建立相关的东西。</p>
<blockquote>
<p>数据库：fabricexplorer。</p>
<p>用户名：cups。</p>
<p>用户密码：123456789。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 进入数据库初始化目录</span></span><br><span class="line">cd blockchain-explorer/app/persistence/fabric/postgreSQL/db</span><br><span class="line"><span class="meta">#</span><span class="bash"> 赋予权限</span></span><br><span class="line">chmod 755 -R ./*</span><br><span class="line"><span class="meta">#</span><span class="bash"> 进入postgres</span></span><br><span class="line">su postgres</span><br><span class="line"><span class="meta">#</span><span class="bash"> 执行初始化脚本</span></span><br><span class="line">./createdb.sh</span><br><span class="line"><span class="meta">#</span><span class="bash"> ctrl+D退出</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看数据库</span></span><br><span class="line">sudo -u postgres psql fabricexplorer -c '\d'</span><br><span class="line"><span class="meta">#</span><span class="bash"> 一定要记住(20 rows),不然就是少创建了数据库。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 不同的版本数据库结构不一样，这个是20。</span></span><br></pre></td></tr></table></figure>

</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[root@localhost db]# su postgres</span><br><span class="line">bash-4.2$ ./createdb.sh</span><br><span class="line">Copying ENV variables into temp file...</span><br><span class="line">USER="cups"</span><br><span class="line">DATABASE="fabricexplorer"</span><br><span class="line">PASSWD='123456789'</span><br><span class="line">Executing SQL scripts, OS=linux-gnu</span><br><span class="line">psql:./explorerpg.sql:6: ERROR:  role "cups" already exists</span><br><span class="line">DROP DATABASE</span><br><span class="line">CREATE DATABASE</span><br><span class="line">You are now connected to database "fabricexplorer" as user "postgres".</span><br><span class="line">psql:./explorerpg.sql:15: NOTICE:  table "blocks" does not exist, skipping</span><br><span class="line">DROP TABLE</span><br><span class="line">CREATE TABLE</span><br><span class="line">ALTER TABLE</span><br><span class="line">psql:./explorerpg.sql:37: NOTICE:  table "chaincodes" does not exist, skipping</span><br><span class="line">DROP TABLE</span><br><span class="line">CREATE TABLE</span><br><span class="line">ALTER TABLE</span><br><span class="line">ALTER SEQUENCE</span><br><span class="line">psql:./explorerpg.sql:57: NOTICE:  table "peer_ref_chaincode" does not exist, skipping</span><br><span class="line">DROP TABLE</span><br><span class="line">CREATE TABLE</span><br><span class="line">ALTER TABLE</span><br><span class="line">psql:./explorerpg.sql:74: NOTICE:  table "channel" does not exist, skipping</span><br><span class="line">DROP TABLE</span><br><span class="line">CREATE TABLE</span><br><span class="line">ALTER TABLE</span><br><span class="line">ALTER SEQUENCE</span><br><span class="line">psql:./explorerpg.sql:99: NOTICE:  table "peer" does not exist, skipping</span><br><span class="line">DROP TABLE</span><br><span class="line">CREATE TABLE</span><br><span class="line">ALTER TABLE</span><br><span class="line">psql:./explorerpg.sql:120: NOTICE:  table "peer_ref_channel" does not exist, skipping</span><br><span class="line">DROP TABLE</span><br><span class="line">CREATE TABLE</span><br><span class="line">ALTER TABLE</span><br><span class="line">psql:./explorerpg.sql:137: NOTICE:  table "orderer" does not exist, skipping</span><br><span class="line">DROP TABLE</span><br><span class="line">CREATE TABLE</span><br><span class="line">ALTER TABLE</span><br><span class="line">psql:./explorerpg.sql:155: NOTICE:  table "transactions" does not exist, skipping</span><br><span class="line">DROP TABLE</span><br><span class="line">CREATE TABLE</span><br><span class="line">ALTER TABLE</span><br><span class="line">ALTER SEQUENCE</span><br><span class="line">psql:./explorerpg.sql:190: NOTICE:  table "users" does not exist, skipping</span><br><span class="line">DROP TABLE</span><br><span class="line">CREATE TABLE</span><br><span class="line">ALTER TABLE</span><br><span class="line">psql:./explorerpg.sql:208: NOTICE:  table "write_lock" does not exist, skipping</span><br><span class="line">DROP TABLE</span><br><span class="line">CREATE TABLE</span><br><span class="line">ALTER TABLE</span><br><span class="line">ALTER SEQUENCE</span><br><span class="line">psql:./explorerpg.sql:217: NOTICE:  index "blocks_blocknum_idx" does not exist, skipping</span><br><span class="line">DROP INDEX</span><br><span class="line">CREATE INDEX</span><br><span class="line">psql:./explorerpg.sql:221: NOTICE:  index "blocks_channel_genesis_hash_idx" does not exist, skipping</span><br><span class="line">DROP INDEX</span><br><span class="line">CREATE INDEX</span><br><span class="line">psql:./explorerpg.sql:225: NOTICE:  index "blocks_createdt_idx" does not exist, skipping</span><br><span class="line">DROP INDEX</span><br><span class="line">CREATE INDEX</span><br><span class="line">psql:./explorerpg.sql:229: NOTICE:  index "transaction_txhash_idx" does not exist, skipping</span><br><span class="line">DROP INDEX</span><br><span class="line">CREATE INDEX</span><br><span class="line">psql:./explorerpg.sql:233: NOTICE:  index "transaction_channel_genesis_hash_idx" does not exist, skipping</span><br><span class="line">DROP INDEX</span><br><span class="line">CREATE INDEX</span><br><span class="line">psql:./explorerpg.sql:237: NOTICE:  index "transaction_createdt_idx" does not exist, skipping</span><br><span class="line">DROP INDEX</span><br><span class="line">CREATE INDEX</span><br><span class="line">psql:./explorerpg.sql:241: NOTICE:  index "transaction_blockid_idx" does not exist, skipping</span><br><span class="line">DROP INDEX</span><br><span class="line">CREATE INDEX</span><br><span class="line">psql:./explorerpg.sql:245: NOTICE:  index "transaction_chaincode_proposal_input_idx" does not exist, skipping</span><br><span class="line">DROP INDEX</span><br><span class="line">CREATE INDEX</span><br><span class="line">psql:./explorerpg.sql:250: NOTICE:  index "channel_channel_genesis_hash_idx" does not exist, skipping</span><br><span class="line">DROP INDEX</span><br><span class="line">CREATE INDEX</span><br><span class="line">psql:./explorerpg.sql:254: NOTICE:  index "channel_channel_hash_idx" does not exist, skipping</span><br><span class="line">DROP INDEX</span><br><span class="line">CREATE INDEX</span><br><span class="line">GRANT</span><br><span class="line">You are now connected to database "fabricexplorer" as user "postgres".</span><br><span class="line">bash-4.2$ exit</span><br><span class="line">[root@localhost db]# sudo -u postgres psql fabricexplorer -c '\d'</span><br><span class="line">                   List of relations</span><br><span class="line"> Schema |           Name            |   Type   | Owner </span><br><span class="line">--------+---------------------------+----------+-------</span><br><span class="line"> public | blocks                    | table    | cups</span><br><span class="line"> public | blocks_id_seq             | sequence | cups</span><br><span class="line"> public | chaincodes                | table    | cups</span><br><span class="line"> public | chaincodes_id_seq         | sequence | cups</span><br><span class="line"> public | channel                   | table    | cups</span><br><span class="line"> public | channel_id_seq            | sequence | cups</span><br><span class="line"> public | orderer                   | table    | cups</span><br><span class="line"> public | orderer_id_seq            | sequence | cups</span><br><span class="line"> public | peer                      | table    | cups</span><br><span class="line"> public | peer_id_seq               | sequence | cups</span><br><span class="line"> public | peer_ref_chaincode        | table    | cups</span><br><span class="line"> public | peer_ref_chaincode_id_seq | sequence | cups</span><br><span class="line"> public | peer_ref_channel          | table    | cups</span><br><span class="line"> public | peer_ref_channel_id_seq   | sequence | cups</span><br><span class="line"> public | transactions              | table    | cups</span><br><span class="line"> public | transactions_id_seq       | sequence | cups</span><br><span class="line"> public | users                     | table    | cups</span><br><span class="line"> public | users_id_seq              | sequence | cups</span><br><span class="line"> public | write_lock                | table    | cups</span><br><span class="line"> public | write_lock_write_lock_seq | sequence | cups</span><br><span class="line">(20 rows)</span><br><span class="line"></span><br><span class="line">[root@localhost db]#</span><br></pre></td></tr></table></figure>

<h2 id="3、安装blockchain-explorer需要的库"><a href="#3、安装blockchain-explorer需要的库" class="headerlink" title="3、安装blockchain-explorer需要的库"></a>3、安装blockchain-explorer需要的库</h2><blockquote>
<p>nodejs项目需要下载安装函数库都是提前写在在文件下的package.json文件里。</p>
<p>安装时使用npm install进行安装。</p>
<p>下面安装项目需要的软件包。</p>
<blockquote>
<p><strong>注意一定要获取管理员权限（sudo su），不然node-pre-gyp那部分过不去。</strong></p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 切换到blockchain-explorer目录</span></span><br><span class="line">cd blockchain-explorer</span><br><span class="line"><span class="meta">#</span><span class="bash"> 赋予权限(主要目的是为可以执行的文件赋权)</span></span><br><span class="line">chmod 755 -R ./*</span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取管理员权限</span></span><br><span class="line">sudo su</span><br><span class="line"><span class="meta">#</span><span class="bash"> 更新/etc/profile</span></span><br><span class="line">source /etc/profile</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装函数包</span></span><br><span class="line">npm install</span><br><span class="line"><span class="meta">#</span><span class="bash"> 切换到app/<span class="built_in">test</span>(项目ui和数据存储测试部分)</span></span><br><span class="line">cd app/test</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装函数包</span></span><br><span class="line">npm install</span><br><span class="line"><span class="meta">#</span><span class="bash"> 进行测试</span></span><br><span class="line">npm run test</span><br><span class="line"><span class="meta">#</span><span class="bash"> 切换到blockchain-explorer/client/(客户端部分，负责监听数据，并进行同步)</span></span><br><span class="line">cd ../../client</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装函数包</span></span><br><span class="line">npm install</span><br><span class="line"><span class="meta">#</span><span class="bash"> 打包项目</span></span><br><span class="line">npm run build</span><br></pre></td></tr></table></figure>

<p>这个过程，时间很长请耐心等待。</p>
<blockquote>
<p>下载的项目文件中有package-lock.json。</p>
<p>这个包是和package.json一起使用的：package.json说明需要哪些函数包；package-lock.json指明去哪里下载这些函数包以及函数包的版本。</p>
<p>不同的机器之间需要下载的函数版本可能不同，这是由npm自行搜索的。比如ubuntu和centos7的package-lock.json就不同。如果采用<a href="https://github.com/CupsWen/blockchain-explorer.git，里边包含的是centos7下的函数包下载地。如果采用的是其他型号的系统，请把package-lock.json（3个）删除，再使用npm" target="_blank" rel="noopener">https://github.com/CupsWen/blockchain-explorer.git，里边包含的是centos7下的函数包下载地。如果采用的是其他型号的系统，请把package-lock.json（3个）删除，再使用npm</a> install。</p>
</blockquote>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost local]# cd blockchain-explorer/</span><br><span class="line">[root@localhost blockchain-explorer]# sudo su</span><br><span class="line">[root@localhost blockchain-explorer]# source /etc/profile</span><br><span class="line">[root@localhost blockchain-explorer]# npm install</span><br><span class="line">npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142</span><br><span class="line">npm WARN deprecated har-validator@5.1.5: this library is no longer supported</span><br><span class="line">npm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated</span><br><span class="line">npm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> bufferutil@4.0.1 install /usr/<span class="built_in">local</span>/blockchain-explorer/node_modules/bufferutil</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node-gyp-build</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> pkcs11js@1.0.22 install /usr/<span class="built_in">local</span>/blockchain-explorer/node_modules/pkcs11js</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node-gyp rebuild</span></span><br><span class="line"></span><br><span class="line">make: Entering directory `/usr/local/blockchain-explorer/node_modules/pkcs11js/build'</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/main.o</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/dl.o</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/const.o</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/pkcs11/error.o</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/pkcs11/v8_convert.o</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/pkcs11/template.o</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/pkcs11/mech.o</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/pkcs11/param.o</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/pkcs11/param_aes.o</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/pkcs11/param_rsa.o</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/pkcs11/param_ecdh.o</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/pkcs11/pkcs11.o</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/async.o</span><br><span class="line">  CXX(target) Release/obj.target/pkcs11/src/node.o</span><br><span class="line">  SOLINK_MODULE(target) Release/obj.target/pkcs11.node</span><br><span class="line">  COPY Release/pkcs11.node</span><br><span class="line">make: Leaving directory `/usr/local/blockchain-explorer/node_modules/pkcs11js/build'</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> utf-8-validate@5.0.2 install /usr/<span class="built_in">local</span>/blockchain-explorer/node_modules/utf-8-validate</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node-gyp-build</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> bcrypt@5.0.0 install /usr/<span class="built_in">local</span>/blockchain-explorer/node_modules/bcrypt</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node-pre-gyp install --fallback-to-build</span></span><br><span class="line"></span><br><span class="line">node-pre-gyp WARN Using request for node-pre-gyp https download </span><br><span class="line">[bcrypt] Success: "/usr/local/blockchain-explorer/node_modules/bcrypt/lib/binding/napi-v3/bcrypt_lib.node" is installed via remote</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> grpc@1.24.3 install /usr/<span class="built_in">local</span>/blockchain-explorer/node_modules/grpc</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node-pre-gyp install --fallback-to-build --library=static_library</span></span><br><span class="line"></span><br><span class="line">node-pre-gyp WARN Using request for node-pre-gyp https download </span><br><span class="line">[grpc] Success: "/usr/local/blockchain-explorer/node_modules/grpc/src/node/extension_binary/node-v64-linux-x64-glibc/grpc_node.node" is installed via remote</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> husky@0.14.3 install /usr/<span class="built_in">local</span>/blockchain-explorer/node_modules/husky</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node ./bin/install.js</span></span><br><span class="line"></span><br><span class="line">husky</span><br><span class="line">setting up Git hooks</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> core-js-pure@3.6.5 postinstall /usr/<span class="built_in">local</span>/blockchain-explorer/node_modules/core-js-pure</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node -e <span class="string">"try&#123;require('./postinstall')&#125;catch(e)&#123;&#125;"</span></span></span><br><span class="line"></span><br><span class="line">Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!</span><br><span class="line"></span><br><span class="line">The project needs your help! Please consider supporting of core-js on Open Collective or Patreon: </span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> https://opencollective.com/core-js </span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> https://www.patreon.com/zloirock </span></span><br><span class="line"></span><br><span class="line">Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> protobufjs@6.10.1 postinstall /usr/<span class="built_in">local</span>/blockchain-explorer/node_modules/protobufjs</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node scripts/postinstall</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ejs@2.7.4 postinstall /usr/<span class="built_in">local</span>/blockchain-explorer/node_modules/ejs</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node ./postinstall.js</span></span><br><span class="line"></span><br><span class="line">Thank you for installing EJS: built with the Jake JavaScript build tool (https://jakejs.com/)</span><br><span class="line"></span><br><span class="line">npm notice created a lockfile as package-lock.json. You should commit this file.</span><br><span class="line">npm WARN eslint-config-airbnb@17.1.1 requires a peer of eslint@^4.19.1 || ^5.3.0 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN eslint-plugin-import@2.22.0 requires a peer of eslint@^2 || ^3 || ^4 || ^5 || ^6 || ^7.2.0 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN eslint-plugin-jsx-a11y@6.3.1 requires a peer of eslint@^3 || ^4 || ^5 || ^6 || ^7 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN eslint-plugin-react@7.21.2 requires a peer of eslint@^3 || ^4 || ^5 || ^6 || ^7 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN eslint-plugin-spellcheck@0.0.11 requires a peer of eslint@&gt;=0.8.0 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN eslint-config-airbnb-base@13.2.0 requires a peer of eslint@^4.19.1 || ^5.3.0 but none is installed. You must install peer dependencies yourself.</span><br><span class="line"></span><br><span class="line">added 713 packages from 575 contributors and audited 716 packages in 60.908s</span><br><span class="line"></span><br><span class="line">28 packages are looking for funding</span><br><span class="line">  run `npm fund` for details</span><br><span class="line"></span><br><span class="line">found 0 vulnerabilities</span><br><span class="line"></span><br><span class="line">[root@localhost blockchain-explorer]# cd app/test</span><br><span class="line">[root@localhost test]# npm install</span><br><span class="line">npm WARN hyperledger-explorer-test@0.3.9 No repository field.</span><br><span class="line"></span><br><span class="line">added 341 packages from 1086 contributors and audited 341 packages in 24.425s</span><br><span class="line"></span><br><span class="line">22 packages are looking for funding</span><br><span class="line">  run `npm fund` for details</span><br><span class="line"></span><br><span class="line">found 1 low severity vulnerability</span><br><span class="line">  run `npm audit fix` to fix them, or `npm audit` for details</span><br><span class="line">[root@localhost test]# npm run test</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> hyperledger-explorer-test@0.3.9 <span class="built_in">test</span> /usr/<span class="built_in">local</span>/blockchain-explorer/app/<span class="built_in">test</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> nyc mocha *.js  --<span class="built_in">exit</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  GET /api/blockactivity/:channel_genesis_hash</span><br><span class="line">    ✓ should return blockactivity </span><br><span class="line"></span><br><span class="line">  GET /api/blockAndTxList/:channel/:blocknum</span><br><span class="line">    ✓ should return blockandtx </span><br><span class="line"></span><br><span class="line">  GET /api/block/:channel_genesis_hash/:number</span><br><span class="line">    ✓ should return block </span><br><span class="line"></span><br><span class="line">  GET /api/blocksByHour/:channel_genesis_hash/:day</span><br><span class="line">    ✓ should return blockbyhour </span><br><span class="line"></span><br><span class="line">  GET /api/blocksByMinute/:channel_genesis_hash/:hour</span><br><span class="line">    ✓ should return blockbyminute </span><br><span class="line"></span><br><span class="line">  GET /api/block/transactions/:channel_genesis_hash/:number</span><br><span class="line">    ✓ should return blocktransaction </span><br><span class="line"></span><br><span class="line">  GET /api/chaincode/:channel</span><br><span class="line">    ✓ should return chaincode </span><br><span class="line"></span><br><span class="line">  GET /api/changeChannel/:channelName</span><br><span class="line">    ✓ should return changedchannel </span><br><span class="line"></span><br><span class="line">  GET /api/channels/info</span><br><span class="line">    ✓ should return channelsinfo </span><br><span class="line"></span><br><span class="line">  GET /api/channels/</span><br><span class="line">    ✓ should return channels </span><br><span class="line"></span><br><span class="line">  GET /api/curChannel</span><br><span class="line">    ✓ should return currentchannel </span><br><span class="line"></span><br><span class="line">  dateUtils().toUTCmilliseconds</span><br><span class="line">    ✓ dateUtils.toUTCmilliseconds should be not null</span><br><span class="line"></span><br><span class="line">  POST /auth/enroll/</span><br><span class="line">    ✓ should return enroll </span><br><span class="line"></span><br><span class="line">  POST /auth/login</span><br><span class="line">    ✓ should return login </span><br><span class="line"></span><br><span class="line">  GET /auth/networklist</span><br><span class="line">    ✓ should return networklist </span><br><span class="line"></span><br><span class="line">  GET /api/peer/channel</span><br><span class="line">    ✓ should return peers </span><br><span class="line"></span><br><span class="line">  Test explorerpg.sql for DDL statements syntax verification</span><br><span class="line">    ✓ should read the file explorerpg.sql for ddl statements </span><br><span class="line">TAP version 13</span><br><span class="line"><span class="meta">#</span><span class="bash"> Test Results</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Test completed and Temporary database deleted</span></span><br><span class="line">    ✓ should execute statements successfully in  explorerpg.sql file </span><br><span class="line"></span><br><span class="line">  POST /auth/register/</span><br><span class="line">    ✓ should return register </span><br><span class="line"></span><br><span class="line">  requestutils().orgsArrayToString should return empty string</span><br><span class="line">    ✓ requestutils().orgsArrayToString should return empty string</span><br><span class="line"></span><br><span class="line">  requestutils().orgsArrayToString should return single quotes value</span><br><span class="line">    ✓ requestutils().orgsArrayToString should return single quotes value</span><br><span class="line"></span><br><span class="line">  requestutils().orgsArrayToString should return comma separated single quotes values </span><br><span class="line">    ✓ requestutils().orgsArrayToString should return comma separated single quotes values </span><br><span class="line"></span><br><span class="line">  GET api/status/:channel_genesis_hash</span><br><span class="line">    ✓ should return channel status</span><br><span class="line"></span><br><span class="line">  getLogger()</span><br><span class="line">    ✓ should getLogger()</span><br><span class="line"></span><br><span class="line">  GET /api/transaction/:channel_genesis_hash/:txid</span><br><span class="line">    ✓ should return transaction </span><br><span class="line"></span><br><span class="line">  GET /api/txByHour/:channel_genesis_hash/:day</span><br><span class="line">    ✓ should return txbyhour </span><br><span class="line"></span><br><span class="line">  GET /api/txByMinute/:channel_genesis/:hour</span><br><span class="line">    ✓ should return txbyminute </span><br><span class="line"></span><br><span class="line">  GET /api/txByOrg/:channel</span><br><span class="line">    ✓ should return txbyorg </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  28 passing (86ms)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1..0</span><br><span class="line"><span class="meta">#</span><span class="bash"> tests 0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> pass  0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ok</span></span><br><span class="line"></span><br><span class="line">[root@localhost test]# cd ../../client</span><br><span class="line">[root@localhost client]# npm install</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> fibers_node_v8@3.1.5 preinstall /usr/<span class="built_in">local</span>/blockchain-explorer/client/node_modules/fibers_node_v8</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node preinstall.js</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> fibers@4.0.3 install /usr/<span class="built_in">local</span>/blockchain-explorer/client/node_modules/fibers</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node build.js || nodejs build.js</span></span><br><span class="line"></span><br><span class="line">`linux-x64-64-glibc` exists; testing</span><br><span class="line">Problem with the binary; manual build incoming</span><br><span class="line">make: Entering directory `/usr/local/blockchain-explorer/client/node_modules/fibers/build'</span><br><span class="line">  CXX(target) Release/obj.target/fibers/src/fibers.o</span><br><span class="line">  CXX(target) Release/obj.target/fibers/src/coroutine.o</span><br><span class="line">  CC(target) Release/obj.target/fibers/src/libcoro/coro.o</span><br><span class="line">  SOLINK_MODULE(target) Release/obj.target/fibers.node</span><br><span class="line">  COPY Release/fibers.node</span><br><span class="line">make: Leaving directory `/usr/local/blockchain-explorer/client/node_modules/fibers/build'</span><br><span class="line">Installed in `/usr/local/blockchain-explorer/client/node_modules/fibers/bin/linux-x64-64-glibc/fibers.node`</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> fibers_node_v8@3.1.5 install /usr/<span class="built_in">local</span>/blockchain-explorer/client/node_modules/fibers_node_v8</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node build.js</span></span><br><span class="line"></span><br><span class="line">ignore install</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> core-js@2.6.11 postinstall /usr/<span class="built_in">local</span>/blockchain-explorer/client/node_modules/babel-runtime/node_modules/core-js</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node -e <span class="string">"try&#123;require('./postinstall')&#125;catch(e)&#123;&#125;"</span></span></span><br><span class="line"></span><br><span class="line">Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!</span><br><span class="line"></span><br><span class="line">The project needs your help! Please consider supporting of core-js on Open Collective or Patreon: </span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> https://opencollective.com/core-js </span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> https://www.patreon.com/zloirock </span></span><br><span class="line"></span><br><span class="line">Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> core-js-pure@3.6.5 postinstall /usr/<span class="built_in">local</span>/blockchain-explorer/client/node_modules/core-js-pure</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node -e <span class="string">"try&#123;require('./postinstall')&#125;catch(e)&#123;&#125;"</span></span></span><br><span class="line"></span><br><span class="line">Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!</span><br><span class="line"></span><br><span class="line">The project needs your help! Please consider supporting of core-js on Open Collective or Patreon: </span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> https://opencollective.com/core-js </span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> https://www.patreon.com/zloirock </span></span><br><span class="line"></span><br><span class="line">Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> core-js@3.6.5 postinstall /usr/<span class="built_in">local</span>/blockchain-explorer/client/node_modules/react-app-polyfill/node_modules/core-js</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node -e <span class="string">"try&#123;require('./postinstall')&#125;catch(e)&#123;&#125;"</span></span></span><br><span class="line"></span><br><span class="line">Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!</span><br><span class="line"></span><br><span class="line">The project needs your help! Please consider supporting of core-js on Open Collective or Patreon: </span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> https://opencollective.com/core-js </span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> https://www.patreon.com/zloirock </span></span><br><span class="line"></span><br><span class="line">Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> core-js@2.6.11 postinstall /usr/<span class="built_in">local</span>/blockchain-explorer/client/node_modules/react-tree-graph/node_modules/core-js</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node -e <span class="string">"try&#123;require('./postinstall')&#125;catch(e)&#123;&#125;"</span></span></span><br><span class="line"></span><br><span class="line">Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!</span><br><span class="line"></span><br><span class="line">The project needs your help! Please consider supporting of core-js on Open Collective or Patreon: </span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> https://opencollective.com/core-js </span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> https://www.patreon.com/zloirock </span></span><br><span class="line"></span><br><span class="line">Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> core-js@2.6.11 postinstall /usr/<span class="built_in">local</span>/blockchain-explorer/client/node_modules/recharts/node_modules/core-js</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node -e <span class="string">"try&#123;require('./postinstall')&#125;catch(e)&#123;&#125;"</span></span></span><br><span class="line"></span><br><span class="line">Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!</span><br><span class="line"></span><br><span class="line">The project needs your help! Please consider supporting of core-js on Open Collective or Patreon: </span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> https://opencollective.com/core-js </span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> https://www.patreon.com/zloirock </span></span><br><span class="line"></span><br><span class="line">Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ejs@3.1.3 postinstall /usr/<span class="built_in">local</span>/blockchain-explorer/client/node_modules/ejs</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node --harmony ./postinstall.js</span></span><br><span class="line"></span><br><span class="line">Thank you for installing EJS: built with the Jake JavaScript build tool (https://jakejs.com/)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> jss@9.8.7 postinstall /usr/<span class="built_in">local</span>/blockchain-explorer/client/node_modules/jss</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node -e <span class="string">"console.log('\u001b[35m\u001b[1mLove JSS? You can now support us on open collective:\u001b[22m\u001b[39m\n &gt; \u001b[34mhttps://opencollective.com/jss/donate\u001b[0m')"</span></span></span><br><span class="line"></span><br><span class="line">Love JSS? You can now support us on open collective:</span><br><span class="line"><span class="meta"> &gt;</span><span class="bash"> https://opencollective.com/jss/donate</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> sinon@4.5.0 postinstall /usr/<span class="built_in">local</span>/blockchain-explorer/client/node_modules/sinon</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> node scripts/support-sinon.js</span></span><br><span class="line"></span><br><span class="line">Have some ❤️ for Sinon? You can support the project via Open Collective:</span><br><span class="line"><span class="meta"> &gt;</span><span class="bash"> https://opencollective.com/sinon/donate</span></span><br><span class="line"></span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/webpack-dev-server/node_modules/fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"linux","arch":"x64"&#125;)</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/watchpack-chokidar2/node_modules/fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"linux","arch":"x64"&#125;)</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules/jest-haste-map/node_modules/fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"linux","arch":"x64"&#125;)</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules/fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"linux","arch":"x64"&#125;)</span><br><span class="line"></span><br><span class="line">added 2112 packages from 1462 contributors and audited 2120 packages in 70.605s</span><br><span class="line"></span><br><span class="line">80 packages are looking for funding</span><br><span class="line">  run `npm fund` for details</span><br><span class="line"></span><br><span class="line">found 6 low severity vulnerabilities</span><br><span class="line">  run `npm audit fix` to fix them, or `npm audit` for details</span><br><span class="line">[root@localhost client]# npm run build</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> hyperledger-explorer-client@1.1.2 build /usr/<span class="built_in">local</span>/blockchain-explorer/client</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> react-scripts build</span></span><br><span class="line"></span><br><span class="line">Creating an optimized production build...</span><br><span class="line">Compiled successfully.</span><br><span class="line"></span><br><span class="line">File sizes after gzip:</span><br><span class="line"></span><br><span class="line">  418.09 KB  build/static/js/2.ff5333c4.chunk.js</span><br><span class="line">  39.88 KB   build/static/css/2.4aa0fea1.chunk.css</span><br><span class="line">  30.41 KB   build/static/js/main.52072528.chunk.js</span><br><span class="line">  1005 B     build/static/css/main.cf67b53d.chunk.css</span><br><span class="line">  787 B      build/static/js/runtime-main.16fb02ed.js</span><br><span class="line"></span><br><span class="line">The project was built assuming it is hosted at /.</span><br><span class="line">You can control this with the homepage field in your package.json.</span><br><span class="line"></span><br><span class="line">The build folder is ready to be deployed.</span><br><span class="line">You may serve it with a static server:</span><br><span class="line"></span><br><span class="line">  npm install -g serve</span><br><span class="line">  serve -s build</span><br><span class="line"></span><br><span class="line">Find out more about deployment here:</span><br><span class="line"></span><br><span class="line">  bit.ly/CRA-deploy</span><br><span class="line"></span><br><span class="line">[root@localhost client]#</span><br></pre></td></tr></table></figure>

<h2 id="4、启动项目"><a href="#4、启动项目" class="headerlink" title="4、启动项目"></a>4、启动项目</h2><blockquote>
<p>程序入口是start.sh</p>
<p>路径：blockchain-explorer/start.sh</p>
<p>作用：区块链浏览器启动入口。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 回到blockchain-explorer目录</span></span><br><span class="line">cd ..</span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动程序</span></span><br><span class="line">./start.sh</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost blockchain-explorer]# ./start.sh </span><br><span class="line">************************************************************************************</span><br><span class="line">**************************** Hyperledger Explorer **********************************</span><br><span class="line">************************************************************************************</span><br><span class="line">[root@localhost blockchain-explorer]# [2020-09-25T16:05:43.815] [INFO] PgService - SSL to Postgresql disabled</span><br><span class="line">[2020-09-25T16:05:43.816] [INFO] PgService - connecting to Postgresql postgres://cups:******@192.168.1.111:5432/fabricexplorer</span><br><span class="line">[2020-09-25T16:05:44.638] [INFO] Platform -  network_config.id  kafka_default  network_config.profile  ./connection-profile/connection.json</span><br><span class="line">[2020-09-25T16:05:44.749] [INFO] FabricConfig - config.client.tlsEnable  true</span><br><span class="line">[2020-09-25T16:05:44.750] [INFO] FabricConfig - FabricConfig, this.config.channels  mychannel</span><br><span class="line">[2020-09-25T16:05:44.753] [INFO] FabricGateway - enrollUserIdentity: userName : cups</span><br><span class="line">[2020-09-25T16:05:45.029] [INFO] FabricUtils - generateBlockHash 0</span><br><span class="line">[2020-09-25T16:05:45.032] [INFO] Platform - initializeListener, network_id, network_client  kafka_default &#123; name: 'kafka',</span><br><span class="line">  version: '1.0.0',</span><br><span class="line">  client:</span><br><span class="line">   &#123; tlsEnable: true,</span><br><span class="line">     adminCredential: &#123; id: 'cups', password: '123456' &#125;,</span><br><span class="line">     enableAuthentication: true,</span><br><span class="line">     organization: 'Org1MSP',</span><br><span class="line">     connection: &#123; timeout: [Object] &#125; &#125;,</span><br><span class="line">  channels: &#123; mychannel: &#123; peers: [Object], connection: [Object] &#125; &#125;,</span><br><span class="line">  organizations:</span><br><span class="line">   &#123; Org1MSP:</span><br><span class="line">      &#123; mspid: 'Org1MSP',</span><br><span class="line">        adminPrivateKey: [Object],</span><br><span class="line">        peers: [Array],</span><br><span class="line">        signedCert: [Object] &#125; &#125;,</span><br><span class="line">  peers:</span><br><span class="line">   &#123; 'peer0.org1.example.com':</span><br><span class="line">      &#123; tlsCACerts: [Object],</span><br><span class="line">        url: 'grpcs://peer0.org1.example.com:7051' &#125; &#125; &#125;</span><br><span class="line">[2020-09-25T16:05:45.041] [INFO] main - Please open web browser to access ：http://localhost:8080/</span><br><span class="line">[2020-09-25T16:05:45.041] [INFO] main - pid is 3546</span><br><span class="line">[2020-09-25T16:05:45.246] [INFO] PgService - SSL to Postgresql disabled</span><br><span class="line">[2020-09-25T16:05:45.247] [INFO] PgService - connecting to Postgresql postgres://cups:******@192.168.1.111:5432/fabricexplorer</span><br><span class="line">[2020-09-25T16:05:45.843] [INFO] Synchronizer - initialize : 60</span><br><span class="line">[2020-09-25T16:05:45.844] [INFO] SyncPlatform - Sync process is started for the network : [kafka_default] and client : [kafka_default]</span><br><span class="line">[2020-09-25T16:05:45.845] [INFO] FabricConfig - config.client.tlsEnable  true</span><br><span class="line">[2020-09-25T16:05:45.845] [INFO] FabricConfig - FabricConfig, this.config.channels  mychannel</span><br><span class="line">[2020-09-25T16:05:46.127] [INFO] FabricUtils - generateBlockHash 0</span><br><span class="line">[2020-09-25T16:05:46.136] [INFO] SyncServices - SyncServices.synchNetworkConfigToDB client  kafka_default  channel_name  mychannel</span><br><span class="line">[2020-09-25T16:05:46.145] [INFO] FabricUtils - generateBlockHash 0</span><br><span class="line">[2020-09-25T16:05:46.245] [INFO] FabricClient - Discovered Org1MSP [ &#123; mspid: 'Org1MSP',</span><br><span class="line">    endpoint: 'peer0.org1.example.com:7051',</span><br><span class="line">    name: 'peer0.org1.example.com:7051',</span><br><span class="line">    ledgerHeight: Long &#123; low: 7, high: 0, unsigned: true &#125;,</span><br><span class="line">    chaincodes: [ [Object] ] &#125; ]</span><br><span class="line">[2020-09-25T16:05:46.257] [INFO] FabricGateway - queryInstantiatedChaincodes mychannel</span><br><span class="line">[2020-09-25T16:05:46.270] [INFO] Sync - Synchronizer pid is 3561</span><br><span class="line">[2020-09-25T16:05:46.290] [INFO] FabricEvent - Successfully created channel event hub for [mychannel]</span><br><span class="line">[2020-09-25T16:05:46.293] [INFO] FabricUtils - generateBlockHash 1</span><br><span class="line">[2020-09-25T16:05:46.305] [INFO] SyncServices - block_row.blocknum  1</span><br><span class="line">[2020-09-25T16:05:46.310] [INFO] FabricUtils - generateBlockHash 2</span><br><span class="line">[2020-09-25T16:05:46.314] [INFO] SyncServices - block_row.blocknum  2</span><br><span class="line">[2020-09-25T16:05:46.317] [INFO] FabricUtils - generateBlockHash 3</span><br><span class="line">[2020-09-25T16:05:46.321] [INFO] SyncServices - block_row.blocknum  3</span><br><span class="line">[2020-09-25T16:05:46.324] [INFO] FabricUtils - generateBlockHash 4</span><br><span class="line">[2020-09-25T16:05:46.331] [INFO] SyncServices - block_row.blocknum  4</span><br><span class="line">[2020-09-25T16:05:46.333] [INFO] FabricUtils - generateBlockHash 5</span><br><span class="line">[2020-09-25T16:05:46.338] [INFO] SyncServices - block_row.blocknum  5</span><br><span class="line">[2020-09-25T16:05:46.340] [INFO] FabricUtils - generateBlockHash 6</span><br><span class="line">[2020-09-25T16:05:46.344] [INFO] SyncServices - block_row.blocknum  6</span><br></pre></td></tr></table></figure>

<blockquote>
<p>当输出main - Please open web browser to access ：<a href="http://localhost:8080/，且程序不自动退出时。" target="_blank" rel="noopener">http://localhost:8080/，且程序不自动退出时。</a></p>
<p>表明程序运行成功。<a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a></p>
</blockquote>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/blockchain-explorer/be-1.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/blockchain-explorer/be-2.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="5、结束程序"><a href="#5、结束程序" class="headerlink" title="5、结束程序"></a>5、结束程序</h2><blockquote>
<p>ctrl+c不会导致程序结束。正确的结束方式是运行./stop.sh。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost blockchain-explorer]# ./stop.sh </span><br><span class="line">Stopping node process hyperledger-explorer, id  3546</span><br><span class="line">[2020-09-25T16:35:34.450] [INFO] main - Received kill signal, shutting down gracefully</span><br><span class="line">[root@localhost blockchain-explorer]# [2020-09-25T16:35:34.453] [INFO] Platform - &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Closing explorer  &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span><br><span class="line">[2020-09-25T16:35:34.454] [INFO] main - Closed out connections</span><br><span class="line">[2020-09-25T16:35:34.455] [INFO] Sync - &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Closing client processor &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span><br><span class="line">^C</span><br><span class="line">[root@localhost blockchain-explorer]# </span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="6、修改start-sh"><a href="#6、修改start-sh" class="headerlink" title="6、修改start.sh*"></a>6、修改start.sh*</h2><blockquote>
<p>区块链浏览器正常启动起来了。</p>
<p>可以设置<code>export LOG_CONSOLE_STDOUT=false</code>，毕竟日志在眼前一直跳，也不是很舒服。</p>
</blockquote>
<h1 id="（五）过程"><a href="#（五）过程" class="headerlink" title="（五）过程"></a>（五）过程</h1><h2 id="1、辛苦的过程"><a href="#1、辛苦的过程" class="headerlink" title="1、辛苦的过程"></a>1、辛苦的过程</h2><blockquote>
<p>blockchain-explorer有两种方式把它架起来：</p>
<p>1、使用github上下载的代码。</p>
<p>2、使用镜像。</p>
</blockquote>
<h3 id="（1）使用github上下载的代码"><a href="#（1）使用github上下载的代码" class="headerlink" title="（1）使用github上下载的代码"></a>（1）使用github上下载的代码</h3><blockquote>
<p>默认会考虑，blockchain-explorer代码版本、nodejs和Fabric的对应关系。</p>
<p>毫无疑问会选择：</p>
<p>Fabric===================&gt;1.4.0==========&gt;上一篇文章里边已经定了</p>
<p>blockchain-explorer========&gt;v0.3.9.4</p>
<p>nodejs===================&gt;v8.11.x========&gt;v8.11.1</p>
<p>然而，多次尝试，错误频出，且难以排错。</p>
<p>例如：（1）初始化数据库的代码无法运行。(<em>｀皿´</em>)ﾉ==================&gt;权限问题；手动生成。</p>
<p>​            （2）nodejs正常引用函数包都会出现问题。 (<em>｀皿´</em>)ﾉ============&gt;npm打包不成功。</p>
<p>​            （3）数据库解析出现异常。(<em>｀皿´</em>)ﾉ=========================&gt;数据库创建不全。</p>
<p>​            （4）start.sh中的空行都要报错。(<em>｀皿´</em>)ﾉ=====================&gt;???????????????。</p>
<p>相关文章： <a href="https://learnblockchain.cn/article/1420" target="_blank" rel="noopener">https://learnblockchain.cn/article/1420</a> </p>
</blockquote>
<h3 id="（2）使用镜像"><a href="#（2）使用镜像" class="headerlink" title="（2）使用镜像"></a>（2）使用镜像</h3><blockquote>
<p>相关文章：<a href="https://blog.csdn.net/ory001/article/details/108360167" target="_blank" rel="noopener">https://blog.csdn.net/ory001/article/details/108360167</a></p>
<p>使用镜像的基本原理就是，准备好相关文件挂载到镜像的相关位置，然后就不能够被我们所控制了。</p>
<p>按照上边的文章进行操作，启动起来的镜像也是出现各种问题，且无法解决，因为除了相关配置文件，其他的想管都管不了。</p>
<p>例如：（1）证书路径中出现/fabric-path/，导致无法正确找到证书。(<em>｀皿´</em>)ﾉ</p>
<p>​            （2）无法连接数据库。(<em>｀皿´</em>)ﾉ</p>
<p>​            （3）端口被占用。(<em>｀皿´</em>)ﾉ</p>
<p>​            （4）出现frist-network，这个东西我们根本没设置。(<em>｀皿´</em>)ﾉ</p>
</blockquote>
<h3 id="（3）本次成功纯属巧合"><a href="#（3）本次成功纯属巧合" class="headerlink" title="（3）本次成功纯属巧合"></a>（3）<strong><code>本次成功纯属巧合</code></strong></h3><blockquote>
<p>万般无奈之下使用（2）中的项目文件，配置一下基本信息，居然把blockchain-explorer起起来了。</p>
<p>(ubuntu)系统下。</p>
<p>总结ubuntu系统下成功的案例：确定各部分的版本；相关问题的解决方法；大胆尝试。</p>
<p>最终如上所示。</p>
</blockquote>
<h2 id="2、数据库初始化"><a href="#2、数据库初始化" class="headerlink" title="2、数据库初始化"></a>2、数据库初始化</h2><blockquote>
<p>数据库的初始化。上边的方法是完美的。</p>
<p>为避免经历浪费，还是想记录一下手动创建的过程。</p>
<p>下面是手动创建的结果。</p>
</blockquote>
<blockquote>
<p>官方的数据库初始化，实际上是很难一步完成的。</p>
<p>1、postgres的安装会生成一个用户postgres，它权限不高无法加载当前路径下的文件。</p>
<p>2、./createdb.sh的执行也经常出现问题。</p>
<p>3、如果在一个普通用户下装postgres，则更没有权限访问root用户下的目录。</p>
<p>4、有待尝试：root用户装postgres，普通用户下载blockchain-explorer进行初始化。</p>
<p>这个操作的主要作用是用是使用explorerpg.sql对数据库进行配置。</p>
<p>explorerpg.sql进行修改后内容如下。（替换:user为cups，对创建用户、数据库的部分进行了注释）。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br></pre></td><td class="code"><pre><span class="line">--</span><br><span class="line">--    SPDX-License-Identifier: Apache-2.0</span><br><span class="line">--</span><br><span class="line">-- CREATE USER cups</span><br><span class="line">-- WITH PASSWORD 123456789;</span><br><span class="line">-- DROP DATABASE IF EXISTS fabricexplorer;</span><br><span class="line">-- CREATE DATABASE fabricexplorer owner cups;</span><br><span class="line">--  \c fabricexplorer;</span><br><span class="line">--</span><br><span class="line"></span><br><span class="line">-- ----------------------------</span><br><span class="line">--  Table structure for `blocks`</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS blocks;</span><br><span class="line"></span><br><span class="line">CREATE TABLE blocks</span><br><span class="line">(</span><br><span class="line">  id SERIAL PRIMARY KEY,</span><br><span class="line">  blocknum integer DEFAULT NULL,</span><br><span class="line">  datahash character varying(256) DEFAULT NULL,</span><br><span class="line">  prehash character varying(256) DEFAULT NULL,</span><br><span class="line">  txcount integer DEFAULT NULL,</span><br><span class="line">  createdt Timestamp DEFAULT NULL,</span><br><span class="line">  prev_blockhash character varying(256) DEFAULT NULL,</span><br><span class="line">  blockhash character varying(256) DEFAULT NULL,</span><br><span class="line">  channel_genesis_hash character varying(256) DEFAULT NULL,</span><br><span class="line">  blksize integer DEFAULT NULL,</span><br><span class="line">  network_name varchar(255)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ALTER table blocks owner to cups;</span><br><span class="line"></span><br><span class="line">-- ----------------------------</span><br><span class="line">--  Table structure for `chaincodes`</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS chaincodes;</span><br><span class="line"></span><br><span class="line">CREATE TABLE chaincodes</span><br><span class="line">(</span><br><span class="line">  id SERIAL PRIMARY KEY,</span><br><span class="line">  name character varying(255) DEFAULT NULL,</span><br><span class="line">  version character varying(255) DEFAULT NULL,</span><br><span class="line">  path character varying(255) DEFAULT NULL,</span><br><span class="line">  channel_genesis_hash character varying(256) DEFAULT NULL,</span><br><span class="line">  txcount integer DEFAULT 0,</span><br><span class="line">  createdt Timestamp DEFAULT NULL,</span><br><span class="line">  network_name varchar(255)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ALTER table chaincodes owner to cups;</span><br><span class="line">Alter sequence chaincodes_id_seq restart with 10;</span><br><span class="line"></span><br><span class="line">-- ---------------------------</span><br><span class="line">--  Table structure for `peer_ref_chaincode`</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS peer_ref_chaincode;</span><br><span class="line"></span><br><span class="line">CREATE TABLE peer_ref_chaincode</span><br><span class="line">(</span><br><span class="line">  id SERIAL PRIMARY KEY,</span><br><span class="line">  peerid varchar(256) DEFAULT NULL,</span><br><span class="line">  chaincodeid varchar(255) DEFAULT NULL,</span><br><span class="line">  cc_version varchar(255) DEFAULT NULL,</span><br><span class="line">  channelid character varying(256) DEFAULT NULL,</span><br><span class="line">  createdt Timestamp DEFAULT NULL,</span><br><span class="line">  network_name varchar(255)</span><br><span class="line">);</span><br><span class="line">ALTER table peer_ref_chaincode owner to cups;</span><br><span class="line"></span><br><span class="line">-- ----------------------------</span><br><span class="line">--  Table structure for `channel`</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS channel;</span><br><span class="line"></span><br><span class="line">--   state character(1) NOT NULL DEFAULT A CHECK (state in (A, D, S))</span><br><span class="line"></span><br><span class="line">CREATE TABLE channel</span><br><span class="line">(</span><br><span class="line">  id SERIAL PRIMARY KEY,</span><br><span class="line">  name varchar(256) DEFAULT NULL,</span><br><span class="line">  blocks integer DEFAULT NULL,</span><br><span class="line">  trans integer DEFAULT NULL,</span><br><span class="line">  createdt Timestamp DEFAULT NULL,</span><br><span class="line">  channel_genesis_hash character varying(256) DEFAULT NULL,</span><br><span class="line">  channel_hash character varying(256) DEFAULT NULL,</span><br><span class="line">  channel_config bytea default NULL,</span><br><span class="line">  channel_block bytea DEFAULT NULL,</span><br><span class="line">  channel_tx bytea DEFAULT NULL,</span><br><span class="line">  channel_version character varying(256) DEFAULT NULL,</span><br><span class="line">  network_name varchar(255)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ALTER table channel owner to cups;</span><br><span class="line">Alter sequence channel_id_seq restart with 3;</span><br><span class="line">-- ----------------------------</span><br><span class="line">--  Table structure for `peer`</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS peer;</span><br><span class="line"></span><br><span class="line">--   state character(1) NOT NULL DEFAULT A CHECK (state in (A, D, S))</span><br><span class="line"></span><br><span class="line">CREATE TABLE peer</span><br><span class="line">(</span><br><span class="line">  id SERIAL PRIMARY KEY,</span><br><span class="line">  org integer DEFAULT NULL,</span><br><span class="line">  channel_genesis_hash character varying(256) DEFAULT NULL,</span><br><span class="line">  mspid varchar(256) DEFAULT NULL,</span><br><span class="line">  requests varchar(256) DEFAULT NULL,</span><br><span class="line">  events varchar(256) DEFAULT NULL,</span><br><span class="line">  server_hostname varchar(256) DEFAULT NULL,</span><br><span class="line">  createdt timestamp DEFAULT NULL,</span><br><span class="line">  peer_type character varying(256) DEFAULT NULL,</span><br><span class="line">  network_name varchar(255)</span><br><span class="line">);</span><br><span class="line">ALTER table peer owner to cups;</span><br><span class="line">-- ---------------------------</span><br><span class="line">--  Table structure for `peer_ref_channel`</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS peer_ref_channel;</span><br><span class="line"></span><br><span class="line">CREATE TABLE peer_ref_channel</span><br><span class="line">(</span><br><span class="line">  id SERIAL PRIMARY KEY,</span><br><span class="line">  createdt Timestamp DEFAULT NULL,</span><br><span class="line">  peerid varchar(256),</span><br><span class="line">  channelid character varying(256),</span><br><span class="line">  peer_type character varying(256) DEFAULT NULL,</span><br><span class="line">  network_name varchar(255)</span><br><span class="line">);</span><br><span class="line">ALTER table peer_ref_channel owner to cups;</span><br><span class="line"></span><br><span class="line">-- ====================Orderer BE-303=====================================</span><br><span class="line">-- ----------------------------</span><br><span class="line">--  Table structure for `orderer`</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS orderer;</span><br><span class="line"></span><br><span class="line">--   state character(1) NOT NULL DEFAULT A CHECK (state in (A, D, S))</span><br><span class="line"></span><br><span class="line">CREATE TABLE orderer</span><br><span class="line">(</span><br><span class="line">  id SERIAL PRIMARY KEY,</span><br><span class="line">  requests varchar(256) DEFAULT NULL,</span><br><span class="line">  server_hostname varchar(256) DEFAULT NULL,</span><br><span class="line">  createdt timestamp DEFAULT NULL,</span><br><span class="line">  network_name varchar(255)</span><br><span class="line">);</span><br><span class="line">ALTER table orderer owner to cups;</span><br><span class="line"></span><br><span class="line">--// ====================Orderer BE-303=====================================</span><br><span class="line">-- ----------------------------</span><br><span class="line">--  Table structure for `transactions`</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS transactions;</span><br><span class="line">CREATE TABLE transactions</span><br><span class="line">(</span><br><span class="line">  id SERIAL PRIMARY KEY,</span><br><span class="line">  blockid integer DEFAULT NULL,</span><br><span class="line">  txhash character varying(256) DEFAULT NULL,</span><br><span class="line">  createdt timestamp DEFAULT NULL,</span><br><span class="line">  chaincodename character varying(255) DEFAULT NULL,</span><br><span class="line">  status integer DEFAULT NULL,</span><br><span class="line">  creator_msp_id character varying(256) DEFAULT NULL,</span><br><span class="line">  endorser_msp_id character varying(800) DEFAULT NULL,</span><br><span class="line">  chaincode_id character varying(256) DEFAULT NULL,</span><br><span class="line">  type character varying(256) DEFAULT NULL,</span><br><span class="line">  read_set json default NULL,</span><br><span class="line">  write_set json default NULL,</span><br><span class="line">  channel_genesis_hash character varying(256) DEFAULT NULL,</span><br><span class="line">  validation_code character varying(255) DEFAULT NULL,</span><br><span class="line">  envelope_signature character varying DEFAULT NULL,</span><br><span class="line">  payload_extension character varying DEFAULT NULL,</span><br><span class="line">  creator_id_bytes character varying DEFAULT NULL,</span><br><span class="line">  creator_nonce character varying DEFAULT NULL,</span><br><span class="line">  chaincode_proposal_input character varying DEFAULT NULL,</span><br><span class="line">  tx_response character varying DEFAULT NULL,</span><br><span class="line">  payload_proposal_hash character varying DEFAULT NULL,</span><br><span class="line">  endorser_id_bytes character varying DEFAULT NULL,</span><br><span class="line">  endorser_signature character varying DEFAULT NULL,</span><br><span class="line">  network_name varchar(255)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ALTER table transactions owner to cups;</span><br><span class="line">Alter sequence transactions_id_seq restart with 6;</span><br><span class="line"></span><br><span class="line">-- ---------------------------</span><br><span class="line">--  Table structure for `users`</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS users;</span><br><span class="line"></span><br><span class="line">CREATE TABLE users</span><br><span class="line">(</span><br><span class="line">  id SERIAL PRIMARY KEY,</span><br><span class="line">  username varchar(255) NOT NULL,</span><br><span class="line">  email varchar(255),</span><br><span class="line">  "networkName" varchar(255) NOT NULL,</span><br><span class="line">  "firstName" varchar(255),</span><br><span class="line">  "lastName" varchar(255),</span><br><span class="line">  "password" varchar(255),</span><br><span class="line">  "roles" varchar(255),</span><br><span class="line">  salt varchar(255),</span><br><span class="line">  "createdAt" timestamp NOT NULL,</span><br><span class="line">  "updatedAt" timestamp NOT NULL</span><br><span class="line">);</span><br><span class="line">ALTER table users owner to cups;</span><br><span class="line"></span><br><span class="line">DROP TABLE IF EXISTS write_lock;</span><br><span class="line">CREATE TABLE write_lock</span><br><span class="line">(</span><br><span class="line">  write_lock SERIAl PRIMARY KEY</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ALTER table write_lock owner to cups;</span><br><span class="line">Alter sequence write_lock_write_lock_seq restart with 2;</span><br><span class="line"></span><br><span class="line">DROP INDEX IF EXISTS blocks_blocknum_idx;</span><br><span class="line">CREATE INDEX ON Blocks</span><br><span class="line">(blocknum);</span><br><span class="line"></span><br><span class="line">DROP INDEX IF EXISTS blocks_channel_genesis_hash_idx;</span><br><span class="line">CREATE INDEX ON Blocks</span><br><span class="line">(channel_genesis_hash);</span><br><span class="line"></span><br><span class="line">DROP INDEX IF EXISTS blocks_createdt_idx;</span><br><span class="line">CREATE INDEX ON Blocks</span><br><span class="line">(createdt);</span><br><span class="line"></span><br><span class="line">DROP INDEX IF EXISTS transaction_txhash_idx;</span><br><span class="line">CREATE INDEX ON Transactions</span><br><span class="line">(txhash);</span><br><span class="line"></span><br><span class="line">DROP INDEX IF EXISTS transaction_channel_genesis_hash_idx;</span><br><span class="line">CREATE INDEX ON Transactions</span><br><span class="line">(channel_genesis_hash);</span><br><span class="line"></span><br><span class="line">DROP INDEX IF EXISTS transaction_createdt_idx;</span><br><span class="line">CREATE INDEX ON Transactions</span><br><span class="line">(createdt);</span><br><span class="line"></span><br><span class="line">DROP INDEX IF EXISTS transaction_blockid_idx;</span><br><span class="line">CREATE INDEX ON Transactions</span><br><span class="line">(blockid);</span><br><span class="line"></span><br><span class="line">DROP INDEX IF EXISTS transaction_chaincode_proposal_input_idx;</span><br><span class="line">CREATE INDEX ON Transactions</span><br><span class="line">((md5</span><br><span class="line">(chaincode_proposal_input)));</span><br><span class="line"></span><br><span class="line">DROP INDEX IF EXISTS channel_channel_genesis_hash_idx;</span><br><span class="line">CREATE INDEX ON channel</span><br><span class="line">(channel_genesis_hash);</span><br><span class="line"></span><br><span class="line">DROP INDEX IF EXISTS channel_channel_hash_idx;</span><br><span class="line">CREATE INDEX ON channel</span><br><span class="line">(channel_hash);</span><br><span class="line"></span><br><span class="line">GRANT SELECT, INSERT, UPDATE,DELETE ON ALL TABLES IN SCHEMA PUBLIC to cups;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>下载破解的教程： <a href="https://blog.csdn.net/loveer0/article/details/82016644" target="_blank" rel="noopener">https://blog.csdn.net/loveer0/article/details/82016644</a> </p>
<p>连接数据的教程：<a href="https://jingyan.baidu.com/article/642c9d34ea3ada644a46f7ad.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/642c9d34ea3ada644a46f7ad.html</a> </p>
<p>新建用户： <a href="https://blog.csdn.net/chenchunlin526/article/details/79001081" target="_blank" rel="noopener">https://blog.csdn.net/chenchunlin526/article/details/79001081</a></p>
<p>新建数据库：<a href="https://jingyan.baidu.com/article/d713063593db9f13fdf475c3.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/d713063593db9f13fdf475c3.html</a></p>
</blockquote>
<blockquote>
<p>新建用户：cups，管理员用户。==========================&gt;密码是：123456789</p>
<p>新建数据库：fabricexplorer，这个数据库的管理权是cups的。</p>
<p>执行sql文件，将剩下的表创建完成。</p>
<p>数据库用户名、用户密码、数据库名称和相对应。</p>
</blockquote>
<h3 id="（1）连接数据库"><a href="#（1）连接数据库" class="headerlink" title="（1）连接数据库"></a>（1）连接数据库</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/blockchain-explorer/cat-1.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h3 id="（2）创建用户"><a href="#（2）创建用户" class="headerlink" title="（2）创建用户"></a>（2）创建用户</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/blockchain-explorer/cat-2.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h3 id="（3）创建数据库"><a href="#（3）创建数据库" class="headerlink" title="（3）创建数据库"></a>（3）创建数据库</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/blockchain-explorer/cat-3.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h3 id="（4）运行sql"><a href="#（4）运行sql" class="headerlink" title="（4）运行sql"></a>（4）运行sql</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/blockchain-explorer/cat-4.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h3 id="（5）最终结果"><a href="#（5）最终结果" class="headerlink" title="（5）最终结果"></a>（5）最终结果</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/blockchain-explorer/cat-5.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><blockquote>
<h2 id="清空所有容器"><a href="#清空所有容器" class="headerlink" title="清空所有容器"></a>清空所有容器</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo docker stop $(docker ps -a -q)</span><br><span class="line">sudo docker ps -qa|xargs docker rm</span><br><span class="line"><span class="meta">#</span><span class="bash"> 重启</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<h2 id="清空所有镜像"><a href="#清空所有镜像" class="headerlink" title="清空所有镜像"></a>清空所有镜像</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker image rm $(docker images -a -q)</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<h2 id="清理文件"><a href="#清理文件" class="headerlink" title="清理文件"></a>清理文件</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">rm -rf fabric-tools/</span><br><span class="line">rm -rf kafka/</span><br><span class="line">rm -rf /root/.local/share/Trash/files</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<h2 id="切换到kafka目录"><a href="#切换到kafka目录" class="headerlink" title="切换到kafka目录"></a>切换到kafka目录</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /root/kafka</span><br></pre></td></tr></table></figure>
</blockquote>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2020-09-26T11:28:59.743Z" itemprop="dateUpdated">2020-09-26 19:28:59</time>
</span><br>


        
    </div>
    
    <footer>
        <a href="http://cupswen.github.io">
            <img src="/img/the_Huanghe_River.png" alt="CupsWen">
            CupsWen
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fabric/" rel="tag">Fabric</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE%E6%B5%8F%E8%A7%88%E5%99%A8/" rel="tag">区块链浏览器</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://cupswen.github.io/2020/09/24/2020/blockchain-explorer/&title=《Hyperledger Explorer》 — Cups&pic=http://cupswen.github.io/img/the_Huanghe_River.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://cupswen.github.io/2020/09/24/2020/blockchain-explorer/&title=《Hyperledger Explorer》 — Cups&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://cupswen.github.io/2020/09/24/2020/blockchain-explorer/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Hyperledger Explorer》 — Cups&url=http://cupswen.github.io/2020/09/24/2020/blockchain-explorer/&via=http://cupswen.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://cupswen.github.io/2020/09/24/2020/blockchain-explorer/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between flex-row-reverse">
  

  
    <div class="waves-block waves-effect next">
      <a href="/2020/09/19/2020/overview-of-access-control/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">访问控制综述</h4>
      </a>
    </div>
  
</nav>



    

</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
            <span>This blog is licensed under a <a rel="license noopener" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>CupsWen &copy; 2019 - 2020</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme indigo.</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://cupswen.github.io/2020/09/24/2020/blockchain-explorer/&title=《Hyperledger Explorer》 — Cups&pic=http://cupswen.github.io/img/the_Huanghe_River.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://cupswen.github.io/2020/09/24/2020/blockchain-explorer/&title=《Hyperledger Explorer》 — Cups&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://cupswen.github.io/2020/09/24/2020/blockchain-explorer/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Hyperledger Explorer》 — Cups&url=http://cupswen.github.io/2020/09/24/2020/blockchain-explorer/&via=http://cupswen.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://cupswen.github.io/2020/09/24/2020/blockchain-explorer/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://cupswen.github.io/2020/09/24/2020/blockchain-explorer/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = 'Cups';
            clearTimeout(titleTime);
        } else {
            document.title = 'Cups';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
